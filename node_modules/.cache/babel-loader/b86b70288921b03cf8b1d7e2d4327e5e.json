{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\beautiful\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\beautiful\\index.vue","mtime":1617695097432},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"C:/Users/admin/Desktop/merchant-manager-web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport list from '@/mixins/list';\nimport SelectAgentTree from '@/components/SelectAgentTree';\nimport { routerNames } from '@/utils/consts';\nimport Cookies from 'js-cookie';\nexport default {\n  name: routerNames.dealerReward,\n  components: {\n    SelectAgentTree: SelectAgentTree\n  },\n  mixins: [list],\n  data: function data() {\n    return {\n      typeList: [{\n        name: this.$t('abnormalround_merchants_index_8'),\n        value: ''\n      }, {\n        name: this.$t('route.dealerReward'),\n        value: 1\n      }, {\n        name: this.$t('new_600'),\n        value: 2\n      } // {name: '美女主播送礼', value: 3}\n      ],\n      form: {\n        time: '',\n        agentId: '',\n        createdAtEnd: '',\n        createdAtStart: '',\n        dealerName: '',\n        gameTypeId: -1,\n        id: '',\n        playerName: '',\n        rewardAmountMax: '',\n        rewardAmountMin: '',\n        rewardType: '',\n        roundNo: '',\n        rewardName: -1,\n        tableName: -1\n      },\n      deviceTypeList: [{\n        value: 1,\n        label: 'PC'\n      }, {\n        value: 2,\n        label: 'APP'\n      }, {\n        value: 3,\n        label: 'H5'\n      }, {\n        value: 5,\n        label: this.$t('new_69')\n      }],\n      deviceList: [{\n        value: 1,\n        label: 'PC'\n      }, {\n        value: 2,\n        label: 'APP'\n      }, {\n        value: 3,\n        label: 'H5'\n      }],\n      amountData: {\n        totalRewardNumber: '0',\n        totalRewardAmount: '0',\n        totalRewardTimes: '0',\n        agentShare: '0'\n      },\n      // 分割线\n      cardDeatilText1: '',\n      cardDeatilText2: '',\n      cardDeatilText3: '',\n      drawer: false,\n      ipData: null,\n      loading: false,\n      releaseTime: '',\n      betDialogVisible: false,\n      dialogShow: false,\n      dialogShow2: false,\n      betStatusList: [this.$t('members.members_16'), this.$t('members.members_17'), this.$t('members.members_18'), this.$t('members.members_19'), this.$t('members.members_20'), this.$t('members.members_21')],\n      videoSrc: '',\n      showVideo: false,\n      currentData: {},\n      currentData2: {},\n      tableList: {},\n      userAgentType: '',\n      detailVisible: false,\n      prevIndex: 1,\n      defaultSort: {\n        prop: 'betAt',\n        order: 'descending'\n      },\n      tableKey: +new Date(),\n      roundNo: '',\n      platforms: []\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters(['userInfo', 'globalDics'])), {}, {\n    gametype: function gametype() {\n      var types = this.globalDics.gametype || [];\n      return types.map(function (item) {\n        return {\n          value: item.value,\n          label: item.text,\n          zh: item.text,\n          en: item.englishText\n        };\n      });\n    },\n    giftName: function giftName() {\n      var giftname = this.globalDics.giftname || [];\n      return giftname.map(function (item) {\n        return {\n          value: item.value,\n          label: item.text,\n          zh: item.text,\n          en: item.englishText\n        };\n      });\n    },\n    giftList: function giftList() {\n      var arr = [{\n        name: this.$t('beautygirlrecord_index_18'),\n        value: '001'\n      }, {\n        name: this.$t('beautygirlrecord_index_19'),\n        value: '002'\n      }, {\n        name: this.$t('beautygirlrecord_index_20'),\n        value: '003'\n      }, {\n        name: this.$t('beautygirlrecord_index_21'),\n        value: '004'\n      }, {\n        name: this.$t('beautygirlrecord_index_22'),\n        value: '005'\n      }, {\n        name: this.$t('beautygirlrecord_index_23'),\n        value: '006'\n      }, {\n        name: this.$t('beautygirlrecord_index_24'),\n        value: '007'\n      }, {\n        name: this.$t('beautygirlrecord_index_25'),\n        value: '008'\n      }, {\n        name: this.$t('beautygirlrecord_index_26'),\n        value: '009'\n      }, {\n        name: this.$t('beautygirlrecord_index_27'),\n        value: '010'\n      }];\n      return arr;\n    }\n  }),\n  watch: {},\n  mounted: function mounted() {\n    this.getTableList();\n  },\n  destroyed: function destroyed() {},\n  methods: {\n    // 失去焦点的时候重置\n    onTimeBlur: function onTimeBlur() {\n      this.minDate = null;\n    },\n    getSummaries: function getSummaries(param) {\n      var _this = this;\n\n      var columns = param.columns;\n      var sums = [];\n      columns.forEach(function (column, index) {\n        if (index === 0) {\n          sums[index] = _this.$t('new_63');\n        }\n\n        if (index === 4) {\n          sums[index] = _this.$t('beautygirlrecord_index_30') + _this.amountData[\"totalRewardNumber\"];\n        }\n\n        if (index === 5) {\n          sums[index] = _this.$t('beautygirlrecord_index_31') + _this.amountData[\"totalRewardAmount\"];\n        }\n\n        if (index === 6) {\n          sums[index] = _this.$t('new_66') + _this.amountData[\"agentShare\"];\n        }\n\n        if (column.property === 'badAmount') {\n          sums[index] = _this.formatCurrency(_this.summary[\"badAmount\"]);\n        }\n      });\n      return sums;\n    },\n    filterRewardName: function filterRewardName(i) {\n      if (i === '爱心') return this.$t('beautygirlrecord_index_18');\n      if (i === '玫瑰') return this.$t('beautygirlrecord_index_19');\n      if (i === '跳舞') return this.$t('beautygirlrecord_index_20');\n      if (i === '红酒') return this.$t('beautygirlrecord_index_21');\n      if (i === '烛光晚餐') return this.$t('beautygirlrecord_index_22');\n      if (i === '哈雷') return this.$t('beautygirlrecord_index_23');\n      if (i === '钻戒') return this.$t('beautygirlrecord_index_24');\n      if (i === '火箭') return this.$t('beautygirlrecord_index_25');\n      if (i === '保时捷') return this.$t('beautygirlrecord_index_26');\n      if (i === '别墅靠海') return this.$t('beautygirlrecord_index_27');\n    },\n    getTableList: function getTableList() {\n      var _this2 = this;\n\n      this.$api.getTableNameList().then(function (_) {\n        if (_.code === 200) {\n          _this2.tableList = _.data;\n        }\n      }).catch(function () {});\n    },\n    loadData: function loadData() {\n      var _this3 = this;\n\n      this.loading = true;\n      var initData = {\n        pageSize: this.pageSize,\n        pageIndex: this.pageIndex,\n        createdAtStart: this.form.time[0],\n        createdAtEnd: this.form.time[1],\n        agentId: this.form.agentId,\n        gameTypeId: this.form.gameTypeId,\n        id: this.form.id,\n        dealerName: this.form.dealerName,\n        playerName: this.form.playerName,\n        tableName: this.form.tableName,\n        rewardName: this.form.rewardName,\n        rewardAmountMax: this.form.rewardAmountMax,\n        rewardAmountMin: this.form.rewardAmountMin,\n        rewardType: this.form.rewardType,\n        roundNo: this.form.roundNo\n      };\n\n      if (this.$i18n.locale === 'en') {\n        if (initData.rewardName === 'Love') initData.rewardName = '爱心';\n        if (initData.rewardName === 'Rose') initData.rewardName = '玫瑰';\n        if (initData.rewardName === 'Dancing') initData.rewardName = '跳舞';\n        if (initData.rewardName === 'Red wine') initData.rewardName = '红酒';\n\n        if (initData.rewardName === 'Candlelight dinner') {\n          initData.rewardName = '烛光晚餐';\n        }\n\n        if (initData.rewardName === 'Halle') initData.rewardName = '哈雷';\n        if (initData.rewardName === 'Diamond ring') initData.rewardName = '钻戒';\n        if (initData.rewardName === 'Rocket') initData.rewardName = '火箭';\n        if (initData.rewardName === 'Porsche') initData.rewardName = '保时捷';\n\n        if (initData.rewardName === 'Villa by the sea') {\n          initData.rewardName = '别墅靠海';\n        }\n      }\n\n      this.$api.anchorTablelist(initData).then(function (_) {\n        _this3.loading = false;\n\n        if (_.code === 200) {\n          var data = _.data;\n          _this3.list = data.record;\n          _this3.amountData = data.summary || {\n            totalRewardNumber: '0',\n            totalRewardAmount: '0',\n            totalRewardTimes: '0',\n            agentShare: '0'\n          };\n          _this3.total = data.totalRecord;\n        }\n      }).catch(function () {\n        _this3.pageIndex = _this3.prevIndex;\n        _this3.list = [];\n        _this3.amountData = {\n          totalRewardNumber: '0',\n          totalRewardAmount: '0',\n          totalRewardTimes: '0',\n          agentShare: '0'\n        };\n        _this3.total = 0;\n        _this3.loading = false;\n      });\n    },\n    deviceTypeFilter: function deviceTypeFilter(value) {\n      console.log(value);\n      var label = '';\n      this.deviceTypeList.forEach(function (item) {\n        if (Number(item.value) === Number(value)) {\n          label = item.label;\n        }\n      });\n      return label;\n    },\n    typeFilter: function typeFilter(value) {\n      var name = '-';\n      this.typeList.forEach(function (item) {\n        if (Number(item.value) === Number(value)) {\n          name = item.name;\n        }\n      });\n      return name;\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.prevIndex = this.pageIndex;\n      this.pageIndex = val;\n      this.loadData();\n    },\n    resetCommon: function resetCommon() {\n      this.form = {\n        time: '',\n        agentId: '',\n        createdAtEnd: '',\n        createdAtStart: '',\n        dealerName: '',\n        gameTypeId: -1,\n        id: '',\n        playerName: '',\n        rewardAmountMax: '',\n        rewardAmountMin: '',\n        rewardType: '',\n        roundNo: '',\n        rewardName: -1,\n        tableName: -1\n      };\n      this.tableKey = +new Date();\n      this.initList();\n    },\n    filterGametype: function filterGametype(c) {\n      var arr = this.gametype || [];\n      var find = arr.find(function (item) {\n        return item.label === c;\n      });\n\n      if (Cookies.get('language') === 'zh') {\n        return find && find.zh || '-';\n      }\n\n      if (Cookies.get('language') === 'en') {\n        return find && find.en || '-';\n      }\n\n      return '-';\n    },\n    go: function go() {\n      this.$router.push('/operationManage/memberReward');\n    },\n    showDailyDetail: function showDailyDetail(row) {\n      var _this4 = this;\n\n      this.$store.dispatch('tagsView/delView', {\n        name: routerNames.betrecord\n      });\n      this.$nextTick(function () {\n        var targetUrl = '/members/betrecord';\n\n        _this4.$router.push(\"\".concat(targetUrl));\n\n        localStorage.setItem('playerId', row.playerId);\n        localStorage.setItem('roundNo2', row.roundNo);\n      });\n    },\n    handleSearch: function handleSearch() {\n      this.pageIndex = 1;\n      this.loadData();\n    },\n    // getSummaries(param) {\n    // \tconst { columns } = param\n    // \tconst sums = []\n    // \tcolumns.forEach((column, index) => {\n    // \t\tif (!column.property && index === 0) {\n    // \t\t\tsums[index] = this.$t('members_betrecord_index_580')\n    // \t\t\treturn\n    // \t\t}\n    // \t\tif (column.property === 'roundNo') {\n    // \t\t\tsums[index] =\n    // \t\t\t\tthis.$t('members_betrecord_index_554') +\n    // \t\t\t\tthis.formatCurrency(this.amountData[`betAmountSum`])\n    // \t\t}\n    // \t\tif (column.property === 'agentName') {\n    // \t\t\tsums[index] =\n    // \t\t\t\tthis.$t('members_betrecord_index_555') +\n    // \t\t\t\tthis.formatCurrency(this.amountData[`validBetAmountSum`])\n    // \t\t}\n    // \t\tif (column.property === 'playerLoginName') {\n    // \t\t\tsums[index] =\n    // \t\t\t\tthis.$t('members_betrecord_index_556') +\n    // \t\t\t\tthis.formatCurrency(this.amountData[`payAmountSum`])\n    // \t\t}\n    // \t\tif (column.property === 'betAt') {\n    // \t\t\tsums[index] =\n    // \t\t\t\tthis.$t('members_betrecord_index_557') +\n    // \t\t\t\tthis.formatCurrency(this.amountData[`netAmountSum`])\n    // \t\t}\n    // \t\tif (column.property === 'betPoint') {\n    // \t\t\tsums[index] =\n    // \t\t\t\tthis.$t('members_betrecord_index_558') + this.amountData[`apiRate`]\n    // \t\t}\n    // \t\tif (column.property === 'betAmount') {\n    // \t\t\tsums[index] =\n    // \t\t\t\tthis.$t('members_betrecord_index_559') +\n    // \t\t\t\tthis.amountData[`paymentAmountSum`]\n    // \t\t}\n    // \t\tif (column.property === 'validBetAmount') {\n    // \t\t\tsums[index] =\n    // \t\t\t\tthis.$t('members_betrecord_index_560') + this.amountData[`netRate`]\n    // \t\t}\n    // \t})\n    // \treturn sums\n    // },\n    checkDetail: function checkDetail(row) {}\n  }\n};",null]}