{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\components\\TagSelect\\index.jsx","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\components\\TagSelect\\index.jsx","mtime":1617594855300},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOi9Vc2Vycy9hZG1pbi9EZXNrdG9wL21lcmNoYW50LW1hbmFnZXItd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfbWVyZ2VKU1hQcm9wcyBmcm9tICJAdnVlL2JhYmVsLWhlbHBlci12dWUtanN4LW1lcmdlLXByb3BzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAnYW50LWRlc2lnbi12dWUvZXMvX3V0aWwvdnVlLXR5cGVzJzsKaW1wb3J0IE9wdGlvbiBmcm9tICcuL1RhZ1NlbGVjdE9wdGlvbi5qc3gnOwppbXBvcnQgeyBmaWx0ZXJFbXB0eSB9IGZyb20gJ0AvY29tcG9uZW50cy9fdXRpbC91dGlsJzsKZXhwb3J0IGRlZmF1bHQgewogIE9wdGlvbjogT3B0aW9uLAogIG5hbWU6ICdUYWdTZWxlY3QnLAogIG1vZGVsOiB7CiAgICBwcm9wOiAnY2hlY2tlZCcsCiAgICBldmVudDogJ2NoYW5nZScKICB9LAogIHByb3BzOiB7CiAgICBwcmVmaXhDbHM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnYW50LXByby10YWctc2VsZWN0JwogICAgfSwKICAgIGRlZmF1bHRWYWx1ZTogewogICAgICB0eXBlOiBQcm9wVHlwZXMuYXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBQcm9wVHlwZXMuYXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBleHBhbmRhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaGlkZUNoZWNrQWxsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXhwYW5kOiBmYWxzZSwKICAgICAgbG9jYWxDaGVja0FsbDogZmFsc2UsCiAgICAgIGl0ZW1zOiB0aGlzLmdldEl0ZW1zS2V5KGZpbHRlckVtcHR5KHRoaXMuJHNsb3RzLmRlZmF1bHQpKSwKICAgICAgdmFsOiB0aGlzLnZhbHVlIHx8IHRoaXMuZGVmYXVsdFZhbHVlIHx8IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGNoZWNrZWQpIHsKICAgICAgdmFyIGtleSA9IE9iamVjdC5rZXlzKHRoaXMuaXRlbXMpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIGtleSA9PT0gY2hlY2tlZC52YWx1ZTsKICAgICAgfSk7CiAgICAgIHRoaXMuaXRlbXNba2V5XSA9IGNoZWNrZWQuY2hlY2tlZDsKICAgICAgdmFyIGJvb2wgPSBPYmplY3QudmFsdWVzKHRoaXMuaXRlbXMpLmxhc3RJbmRleE9mKGZhbHNlKTsKCiAgICAgIGlmIChib29sID09PSAtMSkgewogICAgICAgIHRoaXMubG9jYWxDaGVja0FsbCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2NhbENoZWNrQWxsID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoZWNrQWxsOiBmdW5jdGlvbiBvbkNoZWNrQWxsKGNoZWNrZWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIE9iamVjdC5rZXlzKHRoaXMuaXRlbXMpLmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICBfdGhpcy5pdGVtc1t2XSA9IGNoZWNrZWQuY2hlY2tlZDsKICAgICAgfSk7CiAgICAgIHRoaXMubG9jYWxDaGVja0FsbCA9IGNoZWNrZWQuY2hlY2tlZDsKICAgIH0sCiAgICBnZXRJdGVtc0tleTogZnVuY3Rpb24gZ2V0SXRlbXNLZXkoaXRlbXMpIHsKICAgICAgdmFyIHRvdGFsSXRlbSA9IHt9OwogICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdG90YWxJdGVtW2l0ZW0uY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGEgJiYgaXRlbS5jb21wb25lbnRPcHRpb25zLnByb3BzRGF0YS52YWx1ZV0gPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHJldHVybiB0b3RhbEl0ZW07CiAgICB9LAogICAgLy8gQ2hlY2tBbGwgQnV0dG9uCiAgICByZW5kZXJDaGVja0FsbDogZnVuY3Rpb24gcmVuZGVyQ2hlY2tBbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICB2YXIgcHJvcHMgPSB7CiAgICAgICAgb246IHsKICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGNoZWNrZWQpIHsKICAgICAgICAgICAgX3RoaXMyLm9uQ2hlY2tBbGwoY2hlY2tlZCk7CgogICAgICAgICAgICBjaGVja2VkLnZhbHVlID0gJ3RvdGFsJzsKCiAgICAgICAgICAgIF90aGlzMi4kZW1pdCgnY2hhbmdlJywgY2hlY2tlZCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgY2hlY2tBbGxFbGVtZW50ID0gaChPcHRpb24sIF9tZXJnZUpTWFByb3BzKFt7CiAgICAgICAgImtleSI6ICd0b3RhbCcsCiAgICAgICAgImF0dHJzIjogewogICAgICAgICAgImNoZWNrZWQiOiB0aGlzLmxvY2FsQ2hlY2tBbGwKICAgICAgICB9CiAgICAgIH0sIHByb3BzXSksIFsiQWxsIl0pOwogICAgICByZXR1cm4gIXRoaXMuaGlkZUNoZWNrQWxsICYmIGNoZWNrQWxsRWxlbWVudCB8fCBudWxsOwogICAgfSwKICAgIC8vIGV4cGFuZGFibGUKICAgIHJlbmRlckV4cGFuZGFibGU6IGZ1bmN0aW9uIHJlbmRlckV4cGFuZGFibGUoKSB7fSwKICAgIC8vIHJlbmRlciBvcHRpb24KICAgIHJlbmRlclRhZ3M6IGZ1bmN0aW9uIHJlbmRlclRhZ3MoaXRlbXMpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgbGlzdGVuZXJzID0gewogICAgICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKGNoZWNrZWQpIHsKICAgICAgICAgIF90aGlzMy5vbkNoYW5nZShjaGVja2VkKTsKCiAgICAgICAgICBfdGhpczMuJGVtaXQoJ2NoYW5nZScsIGNoZWNrZWQpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAodm5vZGUpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7CiAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7CiAgICAgICAgcmV0dXJuIHZub2RlOwogICAgICB9KTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgdmFyIGggPSBhcmd1bWVudHNbMF07CiAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy4kcHJvcHMucHJlZml4Q2xzOwoKICAgIHZhciBjbGFzc1N0cmluZyA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgIiIuY29uY2F0KHByZWZpeENscyksIHRydWUpOwoKICAgIHZhciB0YWdJdGVtcyA9IGZpbHRlckVtcHR5KHRoaXMuJHNsb3RzLmRlZmF1bHQpOwogICAgcmV0dXJuIGgoImRpdiIsIHsKICAgICAgImNsYXNzIjogY2xhc3NTdHJpbmcKICAgIH0sIFt0aGlzLnJlbmRlckNoZWNrQWxsKCksIHRoaXMucmVuZGVyVGFncyh0YWdJdGVtcyldKTsKICB9Cn07"},{"version":3,"sources":["C:/Users/admin/Desktop/merchant-manager-web/src/components/TagSelect/index.jsx"],"names":["PropTypes","Option","filterEmpty","name","model","prop","event","props","prefixCls","type","String","default","defaultValue","array","value","expandable","Boolean","hideCheckAll","data","expand","localCheckAll","items","getItemsKey","$slots","val","methods","onChange","checked","key","Object","keys","filter","bool","values","lastIndexOf","onCheckAll","forEach","v","totalItem","item","componentOptions","propsData","renderCheckAll","on","change","$emit","checkAllElement","renderExpandable","renderTags","listeners","map","vnode","options","render","$props","classString","tagItems"],"mappings":"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","sourcesContent":["import PropTypes from 'ant-design-vue/es/_util/vue-types'\r\nimport Option from './TagSelectOption.jsx'\r\nimport { filterEmpty } from '@/components/_util/util'\r\n\r\nexport default {\r\n  Option,\r\n  name: 'TagSelect',\r\n  model: {\r\n    prop: 'checked',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    prefixCls: {\r\n      type: String,\r\n      default: 'ant-pro-tag-select'\r\n    },\r\n    defaultValue: {\r\n      type: PropTypes.array,\r\n      default: null\r\n    },\r\n    value: {\r\n      type: PropTypes.array,\r\n      default: null\r\n    },\r\n    expandable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    hideCheckAll: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      expand: false,\r\n      localCheckAll: false,\r\n      items: this.getItemsKey(filterEmpty(this.$slots.default)),\r\n      val: this.value || this.defaultValue || []\r\n    }\r\n  },\r\n  methods: {\r\n    onChange (checked) {\r\n      const key = Object.keys(this.items).filter(key => key === checked.value)\r\n      this.items[key] = checked.checked\r\n      const bool = Object.values(this.items).lastIndexOf(false)\r\n      if (bool === -1) {\r\n        this.localCheckAll = true\r\n      } else {\r\n        this.localCheckAll = false\r\n      }\r\n    },\r\n    onCheckAll (checked) {\r\n      Object.keys(this.items).forEach(v => {\r\n        this.items[v] = checked.checked\r\n      })\r\n      this.localCheckAll = checked.checked\r\n    },\r\n    getItemsKey (items) {\r\n      const totalItem = {}\r\n      items.forEach(item => {\r\n        totalItem[item.componentOptions.propsData && item.componentOptions.propsData.value] = false\r\n      })\r\n      return totalItem\r\n    },\r\n    // CheckAll Button\r\n    renderCheckAll () {\r\n      const props = {\r\n        on: {\r\n          change: (checked) => {\r\n            this.onCheckAll(checked)\r\n            checked.value = 'total'\r\n            this.$emit('change', checked)\r\n          }\r\n        }\r\n      }\r\n      const checkAllElement = <Option key={'total'} checked={this.localCheckAll} {...props}>All</Option>\r\n      return !this.hideCheckAll && checkAllElement || null\r\n    },\r\n    // expandable\r\n    renderExpandable () {\r\n\r\n    },\r\n    // render option\r\n    renderTags (items) {\r\n      const listeners = {\r\n        change: (checked) => {\r\n          this.onChange(checked)\r\n          this.$emit('change', checked)\r\n        }\r\n      }\r\n\r\n      return items.map(vnode => {\r\n        const options = vnode.componentOptions\r\n        options.listeners = listeners\r\n        return vnode\r\n      })\r\n    }\r\n  },\r\n  render () {\r\n    const { $props: { prefixCls } } = this\r\n    const classString = {\r\n      [`${prefixCls}`]: true\r\n    }\r\n    const tagItems = filterEmpty(this.$slots.default)\r\n    return (\r\n      <div class={classString}>\r\n        {this.renderCheckAll()}\r\n        {this.renderTags(tagItems)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}]}