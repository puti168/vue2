{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\common\\request-interceptor.js","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\common\\request-interceptor.js","mtime":1617594855329},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsgLy8g5byC5bi45oum5oiq5aSE55CG5ZmoCgp2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycikgewogIGlmIChlcnIucmVzcG9uc2UpIHsKICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ0xvZ291dCcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvbG9naW4uaHRtbCc7CiAgICAgIH0pOwogICAgfQoKICAgIG1lc3NhZ2UuZXJyb3IoZXJyLnJlc3BvbnNlLmRhdGEpOwogICAgY29uc29sZS5lcnJvcihlcnIucmVzcG9uc2UpOwogIH0gZWxzZSB7CiAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICBtZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKTsKICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9OyAvLyByZXNwb25zZSBpbnRlcmNlcHRvcgoKCnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKfSwgZXJyb3JIYW5kbGVyKTs="},{"version":3,"sources":["C:/Users/admin/Desktop/merchant-manager-web/src/pages/login/common/request-interceptor.js"],"names":["request","store","errorHandler","err","response","status","dispatch","then","window","location","message","error","data","console","Promise","reject","interceptors","use"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAS;AAC5B,MAAIA,GAAG,CAACC,QAAR,EAAkB;AAChB,QAAID,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/BJ,MAAAA,KAAK,CAACK,QAAN,CAAe,QAAf,EAAyBC,IAAzB,CAA8B,YAAM;AAClCC,QAAAA,MAAM,CAACC,QAAP,GAAkB,aAAlB;AACD,OAFD;AAGD;;AACDC,IAAAA,OAAO,CAACC,KAAR,CAAcR,GAAG,CAACC,QAAJ,CAAaQ,IAA3B;AACAC,IAAAA,OAAO,CAACF,KAAR,CAAcR,GAAG,CAACC,QAAlB;AACD,GARD,MAQO;AACLS,IAAAA,OAAO,CAACF,KAAR,CAAcR,GAAd;AACAO,IAAAA,OAAO,CAACC,KAAR,CAAcR,GAAG,CAACO,OAAlB;AACD;;AACD,SAAOI,OAAO,CAACC,MAAR,CAAeZ,GAAf,CAAP;AACD,CAdD,C,CAgBA;;;AACAH,OAAO,CAACgB,YAAR,CAAqBZ,QAArB,CAA8Ba,GAA9B,CAAkC,UAACb,QAAD,EAAc;AAC9C,SAAOA,QAAQ,CAACQ,IAAhB;AACD,CAFD,EAEGV,YAFH","sourcesContent":["import request from '@/utils/request'\r\nimport store from '@/store'\r\n\r\n// 异常拦截处理器\r\nconst errorHandler = (err) => {\r\n  if (err.response) {\r\n    if (err.response.status === 401) {\r\n      store.dispatch('Logout').then(() => {\r\n        window.location = '/login.html'\r\n      })\r\n    }\r\n    message.error(err.response.data)\r\n    console.error(err.response)\r\n  } else {\r\n    console.error(err)\r\n    message.error(err.message)\r\n  }\r\n  return Promise.reject(err)\r\n}\r\n\r\n// response interceptor\r\nrequest.interceptors.response.use((response) => {\r\n  return response.data\r\n}, errorHandler)\r\n"]}]}