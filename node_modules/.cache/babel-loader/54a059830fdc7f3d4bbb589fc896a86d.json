{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\apiDocument\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\apiDocument\\index.vue","mtime":1617695097436},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.array.find\";\nimport _objectSpread from \"C:/Users/admin/Desktop/merchant-manager-web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport list from '@/mixins/list';\nimport ApiUpload from \"./components/ApiUpload\";\nimport dayjs from 'dayjs';\nimport { routerNames } from '@/utils/consts';\nimport router from '@/router';\nimport Cookies from 'js-cookie';\nimport Modal from '@/components/Modal';\nexport default {\n  name: routerNames.membersbetrecord,\n  components: {\n    ApiUpload: ApiUpload,\n    Modal: Modal\n  },\n  mixins: [list],\n  data: function data() {\n    return {\n      types: ['rar', 'pdf', 'doc'],\n      drawer: false,\n      ipData: null,\n      loading: false,\n      releaseTime: '',\n      betDialogVisible: false,\n      dialogShow: false,\n      betStatusList: [this.$t('members.members_16'), this.$t('members.members_17'), this.$t('members.members_18'), this.$t('members.members_19'), this.$t('members.members_20'), this.$t('members.members_21')],\n      form: {\n        fileType: -1\n      },\n      id: '',\n      videoSrc: '',\n      showVideo: false,\n      dialogVisible: false,\n      currentData: {},\n      userAgentType: '',\n      detailVisible: false,\n      prevIndex: 1,\n      tableKey: +new Date()\n    };\n  },\n  computed: _objectSpread(_objectSpread(_objectSpread({}, mapGetters(['userInfo'])), mapGetters(['globalDics'])), {}, {\n    pickerOptions: function pickerOptions() {\n      var _this = this;\n\n      return {\n        disabledDate: function disabledDate(time) {\n          var now = dayjs().endOf('day').valueOf();\n          return time.getTime() > now;\n        },\n        onPick: function onPick(_ref) {\n          var maxDate = _ref.maxDate,\n              minDate = _ref.minDate;\n\n          if (!maxDate) {\n            _this.minDate = minDate;\n          }\n        },\n        shortcuts: [{\n          text: this.$t('members_betrecord_index_584'),\n          onClick: function onClick(picker) {\n            var end = dayjs().endOf('day');\n            var start = dayjs().startOf('day');\n            picker.$emit('pick', [+start, +end]);\n          }\n        }, {\n          text: this.$t('members_betrecord_index_585'),\n          onClick: function onClick(picker) {\n            var end = dayjs().endOf('day').subtract(1, 'd');\n            var start = dayjs().startOf('day').subtract(1, 'd');\n            picker.$emit('pick', [+start, +end]);\n          }\n        }, {\n          text: this.$t('members_betrecord_index_586'),\n          onClick: function onClick(picker) {\n            var start, end;\n            var weekNum = dayjs().day();\n\n            if (weekNum === 0) {\n              end = dayjs().endOf('day');\n              start = dayjs().subtract(1, 'd').startOf('week').startOf('day').add(1, 'd');\n            } else {\n              end = dayjs().endOf('day');\n              start = dayjs().startOf('day').startOf('week').add(1, 'd');\n            }\n\n            picker.$emit('pick', [+start, +end]);\n          }\n        }, {\n          text: this.$t('members_betrecord_index_587'),\n          onClick: function onClick(picker) {\n            var end = dayjs().endOf('day');\n            var start = dayjs().startOf('month');\n            picker.$emit('pick', [+start, +end]);\n          }\n        }]\n      };\n    },\n    gametype: function gametype() {\n      var types = this.globalDics.gametype || [];\n      return types.map(function (item) {\n        return {\n          value: item.value,\n          label: item.text,\n          zh: item.text,\n          en: item.englishText\n        };\n      });\n    },\n    gamemode: function gamemode() {\n      var types = this.globalDics.gamemode || [];\n      return types.map(function (item) {\n        return {\n          value: item.value,\n          label: item.text,\n          zh: item.text,\n          en: item.englishText\n        };\n      });\n    },\n    betstatus: function betstatus() {\n      var types = this.globalDics.betstatus || [];\n      return types.map(function (item) {\n        return {\n          value: item.value,\n          label: item.text,\n          zh: item.text,\n          en: item.englishText\n        };\n      });\n    },\n    betflag: function betflag() {\n      var types = this.globalDics.betflag || [];\n      return types.map(function (item) {\n        return {\n          value: item.value,\n          label: item.text,\n          zh: item.text,\n          en: item.englishText\n        };\n      });\n    }\n  }),\n  methods: {\n    // 失去焦点的时候重置\n    onTimeBlur: function onTimeBlur() {\n      this.minDate = null;\n    },\n    getAmoutColor: function getAmoutColor(value) {\n      if (value > 0) {\n        return 'green';\n      } else if (value < 0) {\n        return 'red';\n      }\n\n      return '';\n    },\n    updateList: function updateList() {\n      this.loadData();\n    },\n    deleteItem: function deleteItem(row) {\n      this.id = row.id;\n      this.dialogVisible = true;\n    },\n    loadData: function loadData() {\n      var _this2 = this;\n\n      this.loading = true;\n      this.$api.getApiDocumentList({\n        textType: this.form.fileType,\n        pageSize: this.pageSize,\n        pageIndex: this.pageIndex\n      }).then(function (_) {\n        _this2.loading = false;\n\n        if (_.code === 200) {\n          var data = _.data;\n          _this2.list = data.record;\n          _this2.total = data.totalRecord;\n        }\n      }).catch(function () {\n        _this2.pageIndex = _this2.prevIndex;\n        _this2.list = [];\n        _this2.total = 0;\n        _this2.loading = false;\n      });\n    },\n    filterGameMode: function filterGameMode(c) {\n      var arr = this.gamemode || [];\n      var find = arr.find(function (item) {\n        return Number(item.value) === Number(c);\n      });\n\n      if (Cookies.get('language') === 'zh') {\n        return find && find.zh || '-';\n      }\n\n      if (Cookies.get('language') === 'en') {\n        return find && find.en || '-';\n      }\n\n      return '-';\n    },\n    handleSure: function handleSure() {\n      var _this3 = this;\n\n      this.$api.deleteApi({\n        id: this.id\n      }).then(function (_) {\n        if (_.code === 200) {\n          _this3.loadData();\n\n          _this3.$message({\n            message: _this3.$t('notice.notice_39'),\n            type: 'success'\n          });\n\n          _this3.dialogVisible = false;\n        }\n      }).catch(function () {});\n    },\n    filterBetflag: function filterBetflag(c) {\n      var arr = this.betflag || [];\n      var find = arr.find(function (item) {\n        return Number(item.value) === Number(c);\n      });\n\n      if (Cookies.get('language') === 'zh') {\n        return find && find.zh || '-';\n      }\n\n      if (Cookies.get('language') === 'en') {\n        return find && find.en || '-';\n      }\n\n      return '-';\n    },\n    // 改变列表条数\n    handleSizeChange: function handleSizeChange(value) {\n      this.pageSize = value;\n      this.pageIndex = 1;\n      localStorage.setItem('pageSize', value);\n      this.loadData();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.prevIndex = this.pageIndex;\n      this.pageIndex = val;\n      this.loadData();\n    },\n    handleReset: function handleReset() {\n      var _this4 = this;\n\n      if (this.$route.query && JSON.stringify(this.$route.query) !== '{}') {\n        router.push(this.$route.path, function () {\n          _this4.resetCommon();\n        });\n      } else {\n        this.resetCommon();\n      }\n    },\n    resetCommon: function resetCommon() {\n      this.form = {\n        fileType: -1\n      };\n      this.tableKey = +new Date();\n      this.initList();\n    },\n    handleSearch: function handleSearch() {\n      this.pageIndex = 1;\n      this.loadData();\n    },\n    checkDetail: function checkDetail(row) {\n      this.detailVisible = true;\n      this.currentData = _objectSpread({}, row);\n    },\n    filterTextType: function filterTextType(type) {\n      return this.types[type - 1];\n    },\n    download: function download(row) {\n      // const url = window.URL.createObjectURL(new Blob([res.data]))\n      // const link = document.createElement('a')\n      // link.href = row.fileLink\n      // link.setAttribute('download', `${row.id}`)\n      // link.setAttribute('target', `_blank`)\n      // document.body.appendChild(link)\n      // link.click()\n      this.$api.downloadApi({\n        id: row.id\n      }).then(function (res) {\n        window.open(res.data);\n      }).catch(function (err) {\n        console.log(err.msg);\n      });\n    }\n  }\n};",null]}