{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\memberReward\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\memberReward\\index.vue","mtime":1615171048165},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"C:/Users/admin/Desktop/merchant-manager-web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport list from '@/mixins/list';\nimport tier from '@/mixins/tier';\nimport { mapGetters } from 'vuex';\nimport dayjs from 'dayjs';\nimport { routerNames } from '@/utils/consts';\nimport SelectAgentTree from '@/components/SelectAgentTree';\nimport router from '@/router';\nexport default {\n  name: routerNames.memberReward,\n  components: {\n    SelectAgentTree: SelectAgentTree\n  },\n  mixins: [list, tier],\n  data: function data() {\n    var end = dayjs().endOf('day').subtract(1, 'd').valueOf();\n    var start = dayjs().subtract(1, 'd').startOf('month').valueOf();\n    return {\n      timestamp: Date.now(),\n      loading: false,\n      form: {\n        time: [start, end],\n        agentId: '',\n        playerName: ''\n      },\n      summary: {},\n      tableDetail: [],\n      saveAgentId: ''\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['globalDics', 'agentId', 'userInfo'])),\n  methods: {\n    loadData: function loadData() {\n      var _this = this;\n\n      this.loading = true;\n      var form = {\n        pageSize: this.pageSize,\n        pageIndex: this.pageIndex,\n        agentId: this.form.agentId,\n        createdAtStart: this.form.time[0],\n        playerName: this.form.playerName,\n        createdAtEnd: this.form.time[1]\n      };\n      this.$api.memberReward(form).then(function (_) {\n        if (_.code === 200) {\n          var data = _.data;\n          _this.tableDetail = data.record;\n          _this.summary = data.summary;\n          _this.total = data.totalRecord;\n        }\n\n        _this.loading = false;\n      }).catch(function (err) {\n        if (err) {\n          _this.loading = false;\n        }\n      });\n    },\n    handleSearch: function handleSearch() {\n      this.pageIndex = 1;\n      this.loadData();\n    },\n    handleReset: function handleReset() {\n      var _this2 = this;\n\n      if (this.$route.query && JSON.stringify(this.$route.query) !== '{}') {\n        router.push(this.$route.path, function () {\n          _this2.resetCommon();\n        });\n      } else {\n        this.resetCommon();\n      }\n    },\n    resetCommon: function resetCommon() {\n      var end = dayjs().endOf('day').subtract(1, 'd').valueOf();\n      var start = dayjs().subtract(1, 'd').startOf('month').valueOf();\n      this.form = {\n        time: [start, end],\n        agentId: '',\n        playerName: ''\n      };\n      this.levels = [];\n      this.loadData();\n    },\n    goPrev: function goPrev() {\n      router.push(\"/operationManage/dealerReward\");\n    },\n    getSummaries: function getSummaries(param) {\n      var _this3 = this;\n\n      var columns = param.columns;\n      var sums = [];\n      columns.forEach(function (column, index) {\n        if (index === 2) {\n          sums[index] = _this3.$t('merchant_dailyrateaccount_index_800');\n          return;\n        }\n\n        if (column.property === 'totalRewardTimes' || column.property === 'totalRewardAmount' || column.property === 'agentShare') {\n          return sums[index] = _this3.summary[column.property];\n        }\n      });\n      return sums;\n    },\n    handleCurrentChange: function handleCurrentChange() {\n      this.loadData();\n    }\n  }\n};",null]}