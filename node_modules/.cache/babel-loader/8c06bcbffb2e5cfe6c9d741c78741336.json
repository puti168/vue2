{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\components\\QklModal\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\components\\QklModal\\index.vue","mtime":1615171047972},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { message } from '@/utils/message';\nexport default {\n  name: 'QklModal',\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    roundNo: {\n      type: String,\n      default: ''\n    },\n    name: {\n      type: String,\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      urlData: {},\n      visible: false,\n      cardList: [],\n      leftCardList: [],\n      rightCardList: [],\n      selectCard: {},\n      cardPlainText: '',\n      cardHash: '',\n      encryptionCode: ''\n    };\n  },\n  watch: {\n    value: function value(val) {\n      var _this = this;\n\n      this.visible = val;\n      this.selectCard = {};\n      this.cardPlainText = '';\n      this.cardHash = '';\n      this.encryptionCode = '';\n      var api = 'getCardList';\n\n      if (this.name === 'game') {\n        api = 'getCardList';\n      }\n\n      if (this.name === 'bet') {\n        api = 'getBetCardList';\n      }\n\n      this.$api[api]({\n        roundNo: this.roundNo\n      }).then(function (res) {\n        if (res && res.code === 200) {\n          _this.cardList = res.data;\n\n          if (_this.cardList && _this.cardList.length > 0) {\n            // 左边闲,右边庄\n            _this.leftCardList = _this.cardList.filter(function (i) {\n              return i.cardOwner === 1;\n            });\n            var st = '';\n\n            _this.leftCardList.forEach(function (item, index) {\n              if (item.ownerIndex === 3) {\n                st = item;\n                _this.leftCardList[index] = _this.leftCardList[0];\n                _this.leftCardList[0] = st;\n              }\n            });\n\n            _this.rightCardList = _this.cardList.filter(function (i) {\n              return i.cardOwner === 0;\n            });\n\n            _this.rightCardList.forEach(function (item, index) {\n              if (item.ownerIndex === 3) {\n                st = item;\n                _this.rightCardList[index] = _this.rightCardList[2];\n                _this.rightCardList[2] = st;\n              }\n            });\n\n            _this.selectCard = _this.leftCardList[0];\n            _this.cardPlainText = _this.selectCard.cardPlainText;\n            _this.cardHash = _this.selectCard.cardHash;\n          }\n        } else {\n          _this.handleClose();\n        }\n      }).catch(function (error) {\n        console.log('error :>> ', error);\n\n        _this.handleClose();\n      });\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.$api.checkUrllist().then(function (res) {\n      if (res.code === 200) {\n        _this2.urlData = res.data;\n      }\n    });\n  },\n  methods: {\n    getPokerImage: function getPokerImage(value) {\n      if (value !== undefined) {\n        if (value.length > 5) return;\n        return require(\"@/assets/result_images/poker\".concat(value, \".png\"));\n      }\n    },\n    cardClick: function cardClick(item) {\n      this.selectCard = item;\n      this.cardPlainText = this.selectCard.cardPlainText;\n      this.cardHash = this.selectCard.cardHash;\n      this.encryptionCode = '';\n    },\n    handleClose: function handleClose() {\n      this.$emit('update:value', false);\n    },\n    checkCard: function checkCard() {\n      var _this3 = this;\n\n      this.$api.checkCard({\n        cardSequence: this.selectCard.cardSequence,\n        cardPlainText: this.selectCard.cardPlainText,\n        tableId: this.selectCard.tableId,\n        bootNo: this.selectCard.bootNo\n      }).then(function (res) {\n        _this3.encryptionCode = res.data;\n      }).catch(function (error) {\n        return console.log('error :>> ', error);\n      });\n    },\n    copy: function copy(id, attr) {\n      var target = null;\n\n      if (attr) {\n        target = document.createElement('div');\n        target.id = 'tempTarget';\n        target.style.opacity = '0';\n\n        if (id) {\n          var curNode = document.querySelector('#' + id);\n          target.innerText = curNode[attr];\n        } else {\n          target.innerText = attr;\n        }\n\n        document.body.appendChild(target);\n      } else {\n        target = document.querySelector('#' + id);\n      }\n\n      try {\n        var range = document.createRange();\n        range.selectNode(target);\n        window.getSelection().removeAllRanges();\n        window.getSelection().addRange(range);\n        document.execCommand('copy');\n        window.getSelection().removeAllRanges();\n        message({\n          type: 'success',\n          message: this.$t('QklModal_index_15')\n        });\n      } catch (e) {\n        message({\n          type: 'error',\n          message: this.$t('QklModal_index_16')\n        });\n      }\n\n      if (attr) {\n        // remove temp target\n        target.parentElement.removeChild(target);\n      }\n    },\n    copy2: function copy2(id, attr) {\n      var target = null;\n\n      if (attr) {\n        target = document.createElement('div');\n        target.id = 'tempTarget';\n        target.style.opacity = '0';\n\n        if (id) {\n          var curNode = document.querySelector('#' + id);\n          target.innerText = curNode[attr];\n        } else {\n          target.innerText = attr;\n        }\n\n        document.body.appendChild(target);\n      } else {\n        target = document.querySelector('#' + id);\n      }\n\n      try {\n        var range = document.createRange();\n        range.selectNode(target);\n        window.getSelection().removeAllRanges();\n        window.getSelection().addRange(range);\n        document.execCommand('copy');\n        window.getSelection().removeAllRanges();\n        message({\n          type: 'success',\n          message: this.$t('QklModal_index_17')\n        });\n      } catch (e) {\n        message({\n          type: 'error',\n          message: this.$t('QklModal_index_16')\n        });\n      }\n\n      if (attr) {\n        // remove temp target\n        target.parentElement.removeChild(target);\n      }\n    }\n  }\n};",null]}