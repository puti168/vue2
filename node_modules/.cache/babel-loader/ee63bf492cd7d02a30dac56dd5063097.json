{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\core\\plugins\\response.js","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\core\\plugins\\response.js","mtime":1617594855312},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlKSB7CiAgICAvKioNCiAgICAgKiDmma7pgJrlk43lupTlpITnkIbmlrnms5UNCiAgICAgKiBAcGFyYW0geyp9IGZ1bmMgDQogICAgICogQHBhcmFtIHsqfSBiZWZvcmUgDQogICAgICogQHJldHVybnMgDQogICAgICovCiAgICBWdWUucHJvdG90eXBlLiRoYW5kbGVSZXNwb25zZSA9IGZ1bmN0aW9uIChmdW5jLCBiZWZvcmUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHZhciBjb2RlID0gcmVzcC5jb2RlLAogICAgICAgICAgICBkYXRhID0gcmVzcC5kYXRhLAogICAgICAgICAgICBtc2cgPSByZXNwLm1zZywKICAgICAgICAgICAgdG90YWxDb3VudCA9IHJlc3AudG90YWxDb3VudDsKCiAgICAgICAgaWYgKGJlZm9yZSkgewogICAgICAgICAgYmVmb3JlKGRhdGEsIHRvdGFsQ291bnQsIG1zZyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoY29kZSAhPSAyMDApIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKG1zZyk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZ1bmMoZGF0YSwgbXNnKTsKICAgICAgfTsKICAgIH07CiAgICAvKioNCiAgICAgKiDpu5jorqTnmoTlk43lupTlpITnkIbmlrnms5UNCiAgICAgKiBAcGFyYW0ge+mihOWkhOeQhn0gYmVmb3JlIA0KICAgICAqIEByZXR1cm5zIA0KICAgICAqLwoKCiAgICBWdWUucHJvdG90eXBlLiRoYW5kbGVSZXNwb25zZURlZmF1bHQgPSBmdW5jdGlvbiAoYmVmb3JlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgdmFyIGNvZGUgPSByZXNwLmNvZGUsCiAgICAgICAgICAgIGRhdGEgPSByZXNwLmRhdGEsCiAgICAgICAgICAgIG1zZyA9IHJlc3AubXNnLAogICAgICAgICAgICB0b3RhbENvdW50ID0gcmVzcC50b3RhbENvdW50OwoKICAgICAgICBpZiAoYmVmb3JlKSB7CiAgICAgICAgICBiZWZvcmUoZGF0YSwgdG90YWxDb3VudCwgbXNnKTsKICAgICAgICB9CgogICAgICAgIGlmIChjb2RlICE9IDIwMCkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKG1zZyk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MobXNnKTsKICAgICAgfTsKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/admin/Desktop/merchant-manager-web/src/core/plugins/response.js"],"names":["install","Vue","prototype","$handleResponse","func","before","resp","code","data","msg","totalCount","$message","error","$handleResponseDefault","success"],"mappings":"AACA,eAAe;AACXA,EAAAA,OADW,mBACHC,GADG,EACE;AACT;AACR;AACA;AACA;AACA;AACA;AACQA,IAAAA,GAAG,CAACC,SAAJ,CAAcC,eAAd,GAAgC,UAAUC,IAAV,EAAgBC,MAAhB,EAAwB;AAAA;;AACpD,aAAO,UAACC,IAAD,EAAU;AAAA,YACLC,IADK,GAC2BD,IAD3B,CACLC,IADK;AAAA,YACCC,IADD,GAC2BF,IAD3B,CACCE,IADD;AAAA,YACOC,GADP,GAC2BH,IAD3B,CACOG,GADP;AAAA,YACYC,UADZ,GAC2BJ,IAD3B,CACYI,UADZ;;AAEb,YAAIL,MAAJ,EAAY;AACRA,UAAAA,MAAM,CAACG,IAAD,EAAOE,UAAP,EAAmBD,GAAnB,CAAN;AACH;;AACD,YAAIF,IAAI,IAAI,GAAZ,EAAiB;AACb,UAAA,KAAI,CAACI,QAAL,CAAcC,KAAd,CAAoBH,GAApB;;AACA;AACH;;AACD,eAAOL,IAAI,CAACI,IAAD,EAAOC,GAAP,CAAX;AACH,OAVD;AAWH,KAZD;AAaA;AACR;AACA;AACA;AACA;;;AACQR,IAAAA,GAAG,CAACC,SAAJ,CAAcW,sBAAd,GAAuC,UAAUR,MAAV,EAAkB;AAAA;;AACrD,aAAO,UAACC,IAAD,EAAU;AAAA,YACLC,IADK,GAC2BD,IAD3B,CACLC,IADK;AAAA,YACCC,IADD,GAC2BF,IAD3B,CACCE,IADD;AAAA,YACOC,GADP,GAC2BH,IAD3B,CACOG,GADP;AAAA,YACYC,UADZ,GAC2BJ,IAD3B,CACYI,UADZ;;AAEb,YAAIL,MAAJ,EAAY;AACRA,UAAAA,MAAM,CAACG,IAAD,EAAOE,UAAP,EAAmBD,GAAnB,CAAN;AACH;;AACD,YAAIF,IAAI,IAAI,GAAZ,EAAiB;AACb,UAAA,MAAI,CAACI,QAAL,CAAcC,KAAd,CAAoBH,GAApB;;AACA;AACH;;AACD,QAAA,MAAI,CAACE,QAAL,CAAcG,OAAd,CAAsBL,GAAtB;AACH,OAVD;AAWH,KAZD;AAaH;AAvCU,CAAf","sourcesContent":["\r\nexport default {\r\n    install(Vue) {\r\n        /**\r\n         * 普通响应处理方法\r\n         * @param {*} func \r\n         * @param {*} before \r\n         * @returns \r\n         */\r\n        Vue.prototype.$handleResponse = function (func, before) {\r\n            return (resp) => {\r\n                const { code, data, msg, totalCount } = resp\r\n                if (before) {\r\n                    before(data, totalCount, msg)\r\n                }\r\n                if (code != 200) {\r\n                    this.$message.error(msg)\r\n                    return\r\n                }\r\n                return func(data, msg)\r\n            }\r\n        }\r\n        /**\r\n         * 默认的响应处理方法\r\n         * @param {预处理} before \r\n         * @returns \r\n         */\r\n        Vue.prototype.$handleResponseDefault = function (before) {\r\n            return (resp) => {\r\n                const { code, data, msg, totalCount } = resp\r\n                if (before) {\r\n                    before(data, totalCount, msg)\r\n                }\r\n                if (code != 200) {\r\n                    this.$message.error(msg)\r\n                    return\r\n                }\r\n                this.$message.success(msg)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}]}