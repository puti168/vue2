{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\envelopeRecord\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\envelopeRecord\\index.vue","mtime":1617695097434},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _objectSpread from \"C:/Users/admin/Desktop/merchant-manager-web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport list from '@/mixins/list';\nimport SelectAgentTree from '@/components/SelectAgentTree';\nimport dayjs from 'dayjs';\nimport { routerNames } from '@/utils/consts';\nimport router from '@/router';\nimport Cookies from 'js-cookie';\nexport default {\n  name: routerNames.envelopeRecord,\n  components: {\n    SelectAgentTree: SelectAgentTree\n  },\n  mixins: [list],\n  data: function data() {\n    var start = dayjs().startOf('day').valueOf();\n    var end = dayjs().endOf('day').valueOf();\n    return {\n      drawer: false,\n      ipData: null,\n      hadSearch: false,\n      loading: false,\n      releaseTime: '',\n      betDialogVisible: false,\n      dialogShow: false,\n      betStatusList: [this.$t('members.members_16'), this.$t('members.members_17'), this.$t('members.members_18'), this.$t('members.members_19'), this.$t('members.members_20'), this.$t('members.members_21')],\n      form: {\n        time: [start, end],\n        loginName: '',\n        bizId: '',\n        rewardStatus: -1,\n        activityId: -1,\n        searchAgentId: '',\n        upperLimitAmount: '',\n        lowerLimitAmount: ''\n      },\n      amountData: {\n        payOutCount: '0',\n        payOutPlayerCount: '0',\n        sumPayOutAmount: '0',\n        sumSuccessPayOutAmount: '0'\n      },\n      videoSrc: '',\n      showVideo: false,\n      currentData: {},\n      userAgentType: '',\n      detailVisible: false,\n      // 是否展示列表选择\n      isShowChoiceColumn: false,\n      prevIndex: 1,\n      activityTypeList: []\n    };\n  },\n  computed: _objectSpread(_objectSpread(_objectSpread({}, mapGetters(['userInfo'])), mapGetters(['globalDics'])), {}, {\n    betstatus: function betstatus() {\n      return this.globalDics.betstatus;\n    },\n    red: function red() {\n      var types = this.globalDics.redpackage || [];\n      return types.map(function (item) {\n        return {\n          value: item.value,\n          label: item.text,\n          zh: item.text,\n          en: item.englishText\n        };\n      });\n    },\n    allTypesArr: function allTypesArr() {\n      return [this.$t('operationmanage_enveloperecord_index_65'), this.$t('operationmanage_enveloperecord_index_66'), this.$t('operationmanage_enveloperecord_index_67'), this.$t('operationmanage_enveloperecord_index_68'), this.$t('operationmanage_enveloperecord_index_69'), this.$t('operationmanage_enveloperecord_index_70')];\n    },\n    allTypes: function allTypes() {\n      return {\n        1: this.$t('operationmanage_enveloperecord_index_65'),\n        2: this.$t('operationmanage_enveloperecord_index_66'),\n        3: this.$t('operationmanage_enveloperecord_index_67'),\n        4: this.$t('operationmanage_enveloperecord_index_68'),\n        5: this.$t('operationmanage_enveloperecord_index_69'),\n        6: this.$t('operationmanage_enveloperecord_index_70')\n      };\n    }\n  }),\n  mounted: function mounted() {\n    var _this = this;\n\n    // this.getActivityTypeList()\n    document.addEventListener('click', this.showColumn);\n    var w = this.$refs.content.getBoundingClientRect().width;\n    this.$refs.footerCon.style.width = w - 25 + 'px';\n\n    window.onresize = function () {\n      var w = _this.$refs.content.getBoundingClientRect().width;\n\n      _this.$refs.footerCon.style.width = w - 25 + 'px';\n    };\n  },\n  destroyed: function destroyed() {\n    document.removeEventListener('click', this.showColumn);\n  },\n  methods: {\n    classFilter: function classFilter(item) {\n      switch (item) {\n        case 1:\n          return 'successState';\n\n        case 2:\n          return 'infoState';\n\n        case 3:\n          return 'warningState';\n\n        case 4:\n          return 'successState';\n\n        case 5:\n          return 'dangerState';\n\n        case 6:\n          return 'disableState';\n\n        default:\n          break;\n      }\n    },\n    filterTypes: function filterTypes(type) {\n      return this.allTypes[Number(type)];\n    },\n    filterRed: function filterRed(c) {\n      var arr = this.red || [];\n      var find = arr.find(function (item) {\n        return Number(item.value) === Number(c);\n      });\n\n      if (Cookies.get('language') === 'zh') {\n        return find && find.zh || '-';\n      }\n\n      if (Cookies.get('language') === 'en') {\n        return find && find.en || '-';\n      }\n\n      return '-';\n    },\n    // 失去焦点的时候重置\n    onTimeBlur: function onTimeBlur() {\n      this.minDate = null;\n    },\n    getAmoutColor: function getAmoutColor(value) {\n      if (value > 0) {\n        return 'green';\n      } else if (value < 0) {\n        return 'red';\n      }\n\n      return '';\n    },\n    showColumn: function showColumn(e) {\n      var icon = document.getElementById('icon');\n      var list = document.getElementById('list');\n\n      if (icon && !icon.contains(e.target) && list && !list.contains(e.target)) {\n        this.isShowChoiceColumn = false;\n      }\n    },\n    loadData: function loadData() {\n      var _this2 = this;\n\n      this.loading = true;\n      var initData = {\n        pageSize: this.pageSize,\n        pageIndex: this.pageIndex,\n        startTime: this.form.time[0],\n        endTime: this.form.time[1],\n        loginName: this.form.loginName,\n        searchAgentId: this.form.searchAgentId,\n        lowerLimitAmount: this.form.upperLimitAmount,\n        upperLimitAmount: this.form.lowerLimitAmount,\n        activityId: this.form.activityId,\n        bizId: this.form.bizId,\n        rewardStatus: this.form.rewardStatus\n      };\n      this.$api.getEnvelopeRecord(initData).then(function (_) {\n        _this2.loading = false;\n\n        if (_.code === 200) {\n          var data = _.data;\n          _this2.list = data.record;\n          _this2.amountData = data.summary || {\n            payOutCount: '0',\n            payOutPlayerCount: '0',\n            sumPayOutAmount: '0',\n            sumSuccessPayOutAmount: '0'\n          };\n          _this2.total = data.totalRecord;\n        }\n      }).catch(function () {\n        _this2.pageIndex = _this2.prevIndex;\n        _this2.list = [];\n        _this2.amountData = {\n          payOutCount: '0',\n          payOutPlayerCount: '0',\n          sumPayOutAmount: '0',\n          sumSuccessPayOutAmount: '0'\n        };\n        _this2.total = 0;\n        _this2.loading = false;\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.prevIndex = this.pageIndex;\n      this.pageIndex = val;\n      this.loadData();\n    },\n    getActivityTypeList: function getActivityTypeList() {\n      var _this3 = this;\n\n      this.$api.getActivityTypeList().then(function (res) {\n        _this3.activityTypeList = res.data || [];\n      });\n    },\n    handleReset: function handleReset() {\n      var _this4 = this;\n\n      if (this.$route.query && JSON.stringify(this.$route.query) !== '{}') {\n        router.push(this.$route.path, function () {\n          _this4.resetCommon();\n        });\n      } else {\n        this.resetCommon();\n      }\n    },\n    resetCommon: function resetCommon() {\n      var start = dayjs().startOf('day').valueOf();\n      var end = dayjs().endOf('day').valueOf();\n      this.hadSearch = false;\n      this.form = {\n        time: [start, end],\n        loginName: '',\n        bizId: '',\n        rewardStatus: -1,\n        betStatus: -1,\n        activityId: -1,\n        searchAgentId: '',\n        upperLimitAmount: '',\n        lowerLimitAmount: ''\n      };\n      this.initList();\n    },\n    handleSearch: function handleSearch() {\n      this.pageIndex = 1;\n      this.hadSearch = true;\n      this.loadData();\n    },\n    getEnName: function getEnName(name) {\n      if (name.includes('百万红包雨')) {\n        return this.$t('operationmanage_enveloperecord_index_75');\n      }\n\n      return name;\n    }\n  }\n};",null]}