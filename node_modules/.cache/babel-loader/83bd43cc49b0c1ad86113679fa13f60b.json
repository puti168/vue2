{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\index.vue","mtime":1617594855329},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICJDOi9Vc2Vycy9hZG1pbi9EZXNrdG9wL21lcmNoYW50LW1hbmFnZXItd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL2FkbWluL0Rlc2t0b3AvbWVyY2hhbnQtbWFuYWdlci13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbWQ1IGZyb20gJ21kNSc7CmltcG9ydCBzdG9yYWdlIGZyb20gJ3N0b3JlJzsKaW1wb3J0IHsgQUNDRVNTX1RPS0VOIH0gZnJvbSAnQC9zdG9yZS9tdXRhdGlvbi10eXBlcyc7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbkZvcm0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgbWVyY2hhbnRDb2RlOiAnJywKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNhcHRjaGE6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHN0b3JhZ2UucmVtb3ZlKEFDQ0VTU19UT0tFTik7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydMb2dpbiddKSksIHt9LCB7CiAgICBkb0xvZ2luOiBmdW5jdGlvbiBkb0xvZ2luKGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy4kcmVmc1snbG9naW5Gb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CgogICAgICAgIHZhciBfdGhpcyRsb2dpbkZvcm0gPSBfdGhpcy5sb2dpbkZvcm0sCiAgICAgICAgICAgIHBhc3N3b3JkID0gX3RoaXMkbG9naW5Gb3JtLnBhc3N3b3JkLAogICAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJGxvZ2luRm9ybSwgWyJwYXNzd29yZCJdKTsKCiAgICAgICAgX3RoaXMuTG9naW4oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXN0KSwge30sIHsKICAgICAgICAgIHBhc3N3b3JkOiBtZDUocGFzc3dvcmQpCiAgICAgICAgfSkpLnRoZW4oX3RoaXMuJGhhbmRsZVJlc3BvbnNlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICdpbmRleC5odG1sJzsKICAgICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,OAAA,MAAA,OAAA;AACA,SAAA,YAAA,QAAA,wBAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,YAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA;AAIA,QAAA,OAAA,EAAA;AAJA;AAFA,KAAA;AASA,GAZA;AAaA,EAAA,YAbA,0BAaA;AACA,IAAA,OAAA,CAAA,MAAA,CAAA,YAAA;AACA,GAfA;AAgBA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,OAAA,CAAA,CADA;AAEA,IAAA,OAFA,mBAEA,CAFA,EAEA;AAAA;;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,CAAA,KAAA,EAAA;AACA;AACA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,IAAA;;AAJA,8BAKA,KAAA,CAAA,SALA;AAAA,YAKA,QALA,mBAKA,QALA;AAAA,YAKA,IALA;;AAMA,QAAA,KAAA,CAAA,KAAA,iCACA,IADA;AAEA,UAAA,QAAA,EAAA,GAAA,CAAA,QAAA;AAFA,YAGA,IAHA,CAIA,KAAA,CAAA,eAAA,CACA,YAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,YAAA;AACA,SAHA,EAIA;AAAA,iBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AAAA,SAJA,CAJA;AAWA,OAjBA;AAkBA;AAtBA;AAhBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <video class=\"bd-login-video\" autoplay preload=\"preload\" muted loop>\r\n      <source src=\"~@/assets/video/mv.mp4\" type=\"video/mp4\" />\r\n    </video>\r\n    <div class=\"bd-login-container\">\r\n      <div class=\"bd-login-box\">\r\n        <h1 class=\"title\"><img class=\"logo\" src=\"~@/assets/logo.svg\" />商户管理后台</h1>\r\n        <a-form-model ref=\"loginForm\" class=\"bd-login-form\" :model=\"loginForm\" @submit=\"doLogin\">\r\n          <a-form-model-item\r\n            prop=\"merchantCode\"\r\n            :rules=\"[\r\n              {\r\n                required: true,\r\n                min: 2,\r\n                max: 6,\r\n                message: '商户简码为2~6个字符',\r\n              },\r\n              { pattern: /^[A-Za-z0-9]+$/, message: '商户简码由数字与字母组成' },\r\n            ]\"\r\n          >\r\n            <a-input v-model=\"loginForm.merchantCode\" placeholder=\"请输入商户简码，2~6个字符\">\r\n              <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"username\"\r\n            :rules=\"[\r\n              {\r\n                required: true,\r\n                min: 6,\r\n                max: 10,\r\n                message: '用户名为6~12个字符',\r\n              },\r\n              { pattern: /^[A-Za-z0-9]+$/, message: '用户名由数字与字母组成' },\r\n            ]\"\r\n          >\r\n            <a-input v-model=\"loginForm.username\" placeholder=\"请输入用户名，6-12个字符\">\r\n              <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"password\"\r\n            :rules=\"{\r\n              required: true,\r\n              min: 6,\r\n              max: 12,\r\n              message: '密码为6~12个字符',\r\n            }\"\r\n          >\r\n            <a-input-password v-model=\"loginForm.password\" type=\"password\" placeholder=\"请输入密码，6-12个字符\">\r\n              <a-icon type=\"lock\" slot=\"prefix\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input-password>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"captcha\"\r\n            :rules=\"{\r\n              required: true,\r\n              message: '请输入验证码',\r\n            }\"\r\n          >\r\n            <a-input v-model=\"loginForm.captcha\" placeholder=\"请输入验证码\">\r\n              <a-icon slot=\"prefix\" type=\"mail\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item>\r\n            <a-button type=\"primary\" class=\"btn\" htmlType=\"submit\" :loading=\"loading\">登录</a-button>\r\n          </a-form-model-item>\r\n        </a-form-model>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport md5 from 'md5'\r\nimport storage from 'store'\r\nimport { ACCESS_TOKEN } from '@/store/mutation-types'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: 'LoginForm',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loginForm: {\r\n        merchantCode: '',\r\n        username: '',\r\n        password: '',\r\n        captcha: '',\r\n      },\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    storage.remove(ACCESS_TOKEN)\r\n  },\r\n  methods: {\r\n    ...mapActions(['Login']),\r\n    doLogin(e) {\r\n      e.preventDefault()\r\n      this.$refs['loginForm'].validate((valid) => {\r\n        if (!valid) {\r\n          return\r\n        }\r\n        this.loading = true\r\n        const { password, ...rest } = this.loginForm\r\n        this.Login({\r\n          ...rest,\r\n          password: md5(password),\r\n        }).then(\r\n          this.$handleResponse(\r\n            () => {\r\n              window.location = 'index.html'\r\n            },\r\n            () => (this.loading = false)\r\n          )\r\n        )\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.bd-login-video {\r\n  position: fixed;\r\n  right: 0;\r\n  bottom: 0;\r\n  min-width: 100%;\r\n  min-height: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  z-index: 0;\r\n}\r\n.bd-login-box {\r\n  width: 300px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: calc(50vh - 250px);\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n  color: rgba(0, 0, 0, 0.65);\r\n  font-size: 18px;\r\n  font-variant: tabular-nums;\r\n  line-height: 1.5;\r\n  list-style: none;\r\n  font-feature-settings: 'tnum';\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n  text-align: start;\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input-prefix {\r\n  left: 12px;\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input-prefix,\r\n.ant-input-affix-wrapper .ant-input-suffix {\r\n  position: absolute;\r\n  top: 50%;\r\n  z-index: 2;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  align-items: center;\r\n  color: rgba(0, 0, 0, 0.65);\r\n  line-height: 0;\r\n  transform: translateY(-50%);\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input:not(:first-child) {\r\n  padding-left: 48px;\r\n  width: 100%;\r\n  height: 50px;\r\n  border-radius: 6px;\r\n}\r\n。bd-login-box {\r\n  color: #ffffff;\r\n}\r\n.bd-login-box .logo {\r\n  height: 50px;\r\n}\r\n.bd-login-box .btn {\r\n  width: 100%;\r\n  font-size: 18px;\r\n  height: 50px;\r\n  border-radius: 6px;\r\n}\r\n.bd-login-box .title {\r\n  text-align: center;\r\n  color: #ffffff;\r\n}\r\n.bd-login-box .tip {\r\n  color: #ffffff;\r\n  text-align: left;\r\n}\r\n.bd-login-box .link {\r\n  padding: 0;\r\n  text-align: left;\r\n  color: rgba(0, 255, 255, 0.9);\r\n}\r\n</style>"],"sourceRoot":"src/pages/login"}]}