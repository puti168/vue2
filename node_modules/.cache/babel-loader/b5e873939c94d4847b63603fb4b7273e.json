{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\rebateRecord\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\rebateRecord\\index.vue","mtime":1617695097435},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"C:/Users/admin/Desktop/merchant-manager-web/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport list from '@/mixins/list';\nimport dayjs from 'dayjs';\nimport { routerNames } from '@/utils/consts';\nimport SelectAgentTree from '@/components/SelectAgentTree';\nexport default {\n  name: routerNames.activityRebate,\n  components: {\n    SelectAgentTree: SelectAgentTree\n  },\n  mixins: [list],\n  data: function data() {\n    var end = dayjs().endOf('day').valueOf();\n    var start = dayjs().startOf('day').valueOf();\n    return {\n      loading: false,\n      form: {\n        time: [start, end],\n        loginName: '',\n        searchAgentId: ''\n      },\n      summary: {}\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['name', 'userInfo'])),\n  methods: {\n    loadData: function loadData() {\n      var _this = this;\n\n      this.loading = true;\n      var initData = {\n        pageIndex: this.pageIndex,\n        pageSize: this.pageSize\n      };\n      var requestData = {\n        searchAgentId: this.form.searchAgentId,\n        loginName: this.form.loginName,\n        startTime: this.form.time ? this.form.time[0] : '',\n        endTime: this.form.time ? this.form.time[1] : ''\n      };\n\n      var form = _objectSpread(_objectSpread({}, initData), requestData);\n\n      this.$api.getRebateList(form).then(function (_) {\n        _this.loading = false;\n\n        if (_.code === 200) {\n          var data = _.data;\n          _this.list = data.record || [];\n          _this.total = data.totalRecord;\n          _this.summary = data.summary;\n        }\n      }).catch(function () {\n        _this.loading = false;\n      });\n    },\n    getSummaries: function getSummaries(param) {\n      var _this2 = this;\n\n      var columns = param.columns;\n      var sums = [];\n      columns.forEach(function (column, index) {\n        if (index === 0) {\n          sums[index] = _this2.$t('members_report_index_723');\n        } else if (index === 1) {\n          sums[index] = _this2.$t('new_15') + _this2.summary.payOutPlayerCount;\n        } else if (index === 2) {\n          sums[index] = _this2.$t('new_16') + _this2.summary.payOutCount;\n        } else if (index === 3) {\n          sums[index] = _this2.$t('new_17') + _this2.summary.sumPayOutAmount;\n        }\n      });\n      return sums;\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      if (this.loading) {\n        return;\n      }\n\n      this.loadData();\n    },\n    handleReset: function handleReset() {\n      var end = dayjs().endOf('day').valueOf();\n      var start = dayjs().startOf('day').valueOf();\n      this.form = {\n        time: [start, end],\n        loginName: '',\n        searchAgentId: ''\n      };\n      this.initList();\n    },\n    handleSearch: function handleSearch() {\n      this.pageIndex = 1;\n      this.loadData();\n    },\n    showDailyDetail: function showDailyDetail(row) {\n      var _this3 = this;\n\n      this.$store.dispatch('tagsView/delView', {\n        name: routerNames.betrecord\n      });\n      this.$nextTick(function () {\n        var targetUrl = '/members/betrecord';\n\n        _this3.$router.push(\"\".concat(targetUrl));\n\n        localStorage.setItem('playerId', row.playerId);\n        localStorage.setItem('roundNo', row.remark.split('_')[1]);\n        localStorage.setItem('betPoint', row.remark.split('_')[2]);\n      });\n    }\n  }\n};",null]}