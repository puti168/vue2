{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\informationSearch\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\informationSearch\\index.vue","mtime":1615171048176},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// import list from '@/mixins/list'\r\nimport { mapGetters } from 'vuex'\r\nimport { routerNames } from '@/utils/consts'\r\nexport default {\r\n\tname: routerNames.informationSearch,\r\n\t// mixins: [list],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\tlist: [],\r\n\t\t\tform: {\r\n\t\t\t\tagentId: '',\r\n\t\t\t\tagentCode: '',\r\n\t\t\t\tplayerName: '',\r\n\t\t\t\tplayerId: ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['userInfo'])\r\n\t},\r\n\tcreated() {},\r\n\tmethods: {\r\n\t\tloadData() {\r\n\t\t\tif (!/^[1-9]\\d*$/.test(Number(this.form.agentId)) && this.form.agentId) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: this.$t(this.$t('a_20')),\r\n\t\t\t\t\ttype: 'error'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (!/^[1-9]\\d*$/.test(Number(this.form.playerId)) && this.form.playerId) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: this.$t(this.$t('a_25')),\r\n\t\t\t\t\ttype: 'error'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.loading = true\r\n\t\t\tthis.$api\r\n\t\t\t\t.searchInfo(this.form)\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tconst data = _.data\r\n\t\t\t\t\tif (data.agentId) {\r\n\t\t\t\t\t\tthis.list = []\r\n\t\t\t\t\t\tthis.list[0] = data\r\n\t\t\t\t\t\tconsole.log(this.list)\r\n\t\t\t\t\t\tthis.$set(this.list)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.list = []\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tenterSearch(e) {\r\n\t\t\tconst event = e || window.event\r\n\t\t\tconst key = event.which || event.keyCode || event.charCode\r\n\t\t\tif (key === 13) {\r\n\t\t\t\tthis.loadData()\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetRowClass({ row, column, rowIndex, columnIndex }) {\r\n\t\t\tif (rowIndex === 0) {\r\n\t\t\t\treturn 'background:#EFEFEF; text-align: center;'\r\n\t\t\t} else {\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleReset() {\r\n\t\t\tthis.form = {\r\n\t\t\t\tagentId: '',\r\n\t\t\t\tagentCode: '',\r\n\t\t\t\tplayerName: '',\r\n\t\t\t\tplayerId: ''\r\n\t\t\t}\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\thandleSearch() {\r\n\t\t\tthis.pageIndex = 1\r\n\t\t\tthis.loadData()\r\n\t\t}\r\n\t}\r\n}\r\n",null]}