{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\components\\QklModal\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\components\\QklModal\\index.vue","mtime":1615171047972},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { message } from '@/utils/message'\r\n\r\nexport default {\r\n\tname: 'QklModal',\r\n\tprops: {\r\n\t\tvalue: { type: Boolean, default: false },\r\n\t\troundNo: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tname: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\turlData: {},\r\n\t\t\tvisible: false,\r\n\t\t\tcardList: [],\r\n\t\t\tleftCardList: [],\r\n\t\t\trightCardList: [],\r\n\t\t\tselectCard: {},\r\n\t\t\tcardPlainText: '',\r\n\t\t\tcardHash: '',\r\n\t\t\tencryptionCode: ''\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue(val) {\r\n\t\t\tthis.visible = val\r\n\t\t\tthis.selectCard = {}\r\n\t\t\tthis.cardPlainText = ''\r\n\t\t\tthis.cardHash = ''\r\n\t\t\tthis.encryptionCode = ''\r\n\r\n\t\t\tlet api = 'getCardList'\r\n\r\n\t\t\tif (this.name === 'game') {\r\n\t\t\t\tapi = 'getCardList'\r\n\t\t\t}\r\n\t\t\tif (this.name === 'bet') {\r\n\t\t\t\tapi = 'getBetCardList'\r\n\t\t\t}\r\n\r\n\t\t\tthis.$api[api]({ roundNo: this.roundNo })\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res && res.code === 200) {\r\n\t\t\t\t\t\tthis.cardList = res.data\r\n\t\t\t\t\t\tif (this.cardList && this.cardList.length > 0) {\r\n\t\t\t\t\t\t\t// 左边闲,右边庄\r\n\t\t\t\t\t\t\tthis.leftCardList = this.cardList.filter((i) => i.cardOwner === 1)\r\n\t\t\t\t\t\t\tlet st = ''\r\n\t\t\t\t\t\t\tthis.leftCardList.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\tif (item.ownerIndex === 3) {\r\n\t\t\t\t\t\t\t\t\tst = item\r\n\t\t\t\t\t\t\t\t\tthis.leftCardList[index] = this.leftCardList[0]\r\n\t\t\t\t\t\t\t\t\tthis.leftCardList[0] = st\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.rightCardList = this.cardList.filter((i) => i.cardOwner === 0)\r\n\t\t\t\t\t\t\tthis.rightCardList.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\tif (item.ownerIndex === 3) {\r\n\t\t\t\t\t\t\t\t\tst = item\r\n\t\t\t\t\t\t\t\t\tthis.rightCardList[index] = this.rightCardList[2]\r\n\t\t\t\t\t\t\t\t\tthis.rightCardList[2] = st\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.selectCard = this.leftCardList[0]\r\n\t\t\t\t\t\t\tthis.cardPlainText = this.selectCard.cardPlainText\r\n\t\t\t\t\t\t\tthis.cardHash = this.selectCard.cardHash\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.handleClose()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log('error :>> ', error)\r\n\t\t\t\t\tthis.handleClose()\r\n\t\t\t\t})\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.$api.checkUrllist().then((res) => {\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tthis.urlData = res.data\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tmethods: {\r\n\t\tgetPokerImage(value) {\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tif (value.length > 5) return\r\n\t\t\t\treturn require(`@/assets/result_images/poker${value}.png`)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcardClick(item) {\r\n\t\t\tthis.selectCard = item\r\n\t\t\tthis.cardPlainText = this.selectCard.cardPlainText\r\n\t\t\tthis.cardHash = this.selectCard.cardHash\r\n\t\t\tthis.encryptionCode = ''\r\n\t\t},\r\n\t\thandleClose() {\r\n\t\t\tthis.$emit('update:value', false)\r\n\t\t},\r\n\t\tcheckCard() {\r\n\t\t\tthis.$api\r\n\t\t\t\t.checkCard({\r\n\t\t\t\t\tcardSequence: this.selectCard.cardSequence,\r\n\t\t\t\t\tcardPlainText: this.selectCard.cardPlainText,\r\n\t\t\t\t\ttableId: this.selectCard.tableId,\r\n\t\t\t\t\tbootNo: this.selectCard.bootNo\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.encryptionCode = res.data\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => console.log('error :>> ', error))\r\n\t\t},\r\n\r\n\t\tcopy(id, attr) {\r\n\t\t\tlet target = null\r\n\r\n\t\t\tif (attr) {\r\n\t\t\t\ttarget = document.createElement('div')\r\n\t\t\t\ttarget.id = 'tempTarget'\r\n\t\t\t\ttarget.style.opacity = '0'\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tconst curNode = document.querySelector('#' + id)\r\n\t\t\t\t\ttarget.innerText = curNode[attr]\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.innerText = attr\r\n\t\t\t\t}\r\n\t\t\t\tdocument.body.appendChild(target)\r\n\t\t\t} else {\r\n\t\t\t\ttarget = document.querySelector('#' + id)\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst range = document.createRange()\r\n\t\t\t\trange.selectNode(target)\r\n\t\t\t\twindow.getSelection().removeAllRanges()\r\n\t\t\t\twindow.getSelection().addRange(range)\r\n\t\t\t\tdocument.execCommand('copy')\r\n\t\t\t\twindow.getSelection().removeAllRanges()\r\n\t\t\t\tmessage({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: this.$t('QklModal_index_15')\r\n\t\t\t\t})\r\n\t\t\t} catch (e) {\r\n\t\t\t\tmessage({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tmessage: this.$t('QklModal_index_16')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (attr) {\r\n\t\t\t\t// remove temp target\r\n\t\t\t\ttarget.parentElement.removeChild(target)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcopy2(id, attr) {\r\n\t\t\tlet target = null\r\n\r\n\t\t\tif (attr) {\r\n\t\t\t\ttarget = document.createElement('div')\r\n\t\t\t\ttarget.id = 'tempTarget'\r\n\t\t\t\ttarget.style.opacity = '0'\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tconst curNode = document.querySelector('#' + id)\r\n\t\t\t\t\ttarget.innerText = curNode[attr]\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.innerText = attr\r\n\t\t\t\t}\r\n\t\t\t\tdocument.body.appendChild(target)\r\n\t\t\t} else {\r\n\t\t\t\ttarget = document.querySelector('#' + id)\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst range = document.createRange()\r\n\t\t\t\trange.selectNode(target)\r\n\t\t\t\twindow.getSelection().removeAllRanges()\r\n\t\t\t\twindow.getSelection().addRange(range)\r\n\t\t\t\tdocument.execCommand('copy')\r\n\t\t\t\twindow.getSelection().removeAllRanges()\r\n\t\t\t\tmessage({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: this.$t('QklModal_index_17')\r\n\t\t\t\t})\r\n\t\t\t} catch (e) {\r\n\t\t\t\tmessage({\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tmessage: this.$t('QklModal_index_16')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tif (attr) {\r\n\t\t\t\t// remove temp target\r\n\t\t\t\ttarget.parentElement.removeChild(target)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n",null]}