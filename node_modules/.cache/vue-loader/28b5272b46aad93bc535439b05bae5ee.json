{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\authoritymanagement\\agentRelation\\components\\EditOpen.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\authoritymanagement\\agentRelation\\components\\EditOpen.vue","mtime":1615171048095},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport SelectAgentTree from '@/components/SelectAgentTree4'\r\nexport default {\r\n\tname: 'EditOpen',\r\n\tcomponents: {\r\n\t\tSelectAgentTree\r\n\t},\r\n\tprops: {\r\n\t\taccountData: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\tparentAgentId: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\taccountForm: {\r\n\t\t\t\tagentId: '',\r\n\t\t\t\tparentAgentId: ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\taccountData(val) {\r\n\t\t\tthis.accountForm = {\r\n\t\t\t\t...val\r\n\t\t\t}\r\n\t\t\tconsole.log('this.accountForm')\r\n\t\t\tconsole.log(this.accountForm)\r\n\t\t\tthis.accountForm.agentId = this.accountForm.agentId.split('_')[1]\r\n\t\t\tthis.accountForm.parentAgentId = this.parentAgentId\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.$refs.Tree2.selectParent()\r\n\t\t\t}, 300)\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\thandleClose() {\r\n\t\t\tthis.$refs.accountForm.clearValidate()\r\n\t\t\tthis.$emit('input', false)\r\n\t\t},\r\n\t\tcommit() {\r\n\t\t\tthis.$confirm(\r\n\t\t\t\t`${this.$t('agent_0444')}`\r\n\t\t\t).then(() => {\r\n\t\t\t\tthis.$refs.accountForm.validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tconst form = {\r\n\t\t\t\t\t\t\tagentId: this.accountForm.agentId,\r\n\t\t\t\t\t\t\tparentAgentId: this.accountForm.parentAgentId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$api.updateAgentLevel(form).then((_) => {\r\n\t\t\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\t\t\tthis.$emit('input', false)\r\n\t\t\t\t\t\t\t\tthis.$emit('closeEdit', false)\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: this.$t(\r\n\t\t\t\t\t\t\t\t\t\tthis.$t('merchant_merchantinfo_components_edittrial_987')\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n",null]}