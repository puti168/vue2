{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\members\\list\\components\\HistoryRecord.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\members\\list\\components\\HistoryRecord.vue","mtime":1616384580062},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport list from '@/mixins/list'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n\tname: 'Historyrecord',\r\n\tmixins: [list],\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\trecord: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t}\r\n\t},\r\n\tdoNotInit: true,\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\trecordLoading: false,\r\n\t\t\trecordData: {},\r\n\t\t\tfilterTypes: []\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['globalDics']),\r\n\t\tagenttype() {\r\n\t\t\treturn this.globalDics.agenttype\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\trecord: {\r\n\t\t\thandler(val) {\r\n\t\t\t\tconsole.log('val :', val)\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tthis.recordData = val\r\n\t\t\t\t\tthis.loadData()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\r\n\t\tloadData() {\r\n\t\t\tthis.recordLoading = true\r\n\t\t\tconst loginIp = this.recordData.loginIp\r\n\t\t\tconst form = {\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tpageIndex: this.pageIndex,\r\n\t\t\t\tloginIp,\r\n\t\t\t\texclusionAccount: this.filterTypes.includes(1),\r\n\t\t\t\texclusionDevice: this.filterTypes.includes(2)\r\n\t\t\t}\r\n\t\t\tthis.$api\r\n\t\t\t\t.memberQueryUserByIp(form)\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\tconst data = _.data\r\n\t\t\t\t\t\tthis.list = data.record\r\n\t\t\t\t\t\tthis.total = data.totalRecord\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.recordLoading = false\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.recordLoading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\thandleCurrentChange() {\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\thandleClose() {\r\n\t\t\tthis.$emit('input', false)\r\n\t\t},\r\n\t\tfilterMerchantType(type) {\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase '0':\r\n\t\t\t\t\treturn this.$t('members_list_components_historyrecord_646')\r\n\t\t\t\tcase '1':\r\n\t\t\t\t\treturn this.$t('members_list_components_historyrecord_647')\r\n\t\t\t\tcase '2':\r\n\t\t\t\t\treturn this.$t('members_list_components_historyrecord_648')\r\n\t\t\t\tcase '3':\r\n\t\t\t\t\treturn this.$t('members_list_components_historyrecord_649')\r\n\t\t\t\tcase '4':\r\n\t\t\t\t\treturn this.$t('merchant_merchantinfo_index_1143')\r\n\t\t\t}\r\n\t\t\tif (type) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tthis.agenttype.filter((item) => item.value === Number(type))[0] &&\r\n\t\t\t\t\tthis.agenttype.filter((item) => item.value === Number(type))[0].text\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelectChange(value) {\r\n\t\t\tthis.filterTypes = value\r\n\t\t\tthis.pageIndex = 1\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.loadData()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n",null]}