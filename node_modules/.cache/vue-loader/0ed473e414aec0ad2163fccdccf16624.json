{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\index.vue?vue&type=style&index=0&id=247e7dd8&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\index.vue","mtime":1617594855329},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYmQtbG9naW4tdmlkZW8gew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIHJpZ2h0OiAwOw0KICBib3R0b206IDA7DQogIG1pbi13aWR0aDogMTAwJTsNCiAgbWluLWhlaWdodDogMTAwJTsNCiAgd2lkdGg6IGF1dG87DQogIGhlaWdodDogYXV0bzsNCiAgei1pbmRleDogMDsNCn0NCi5iZC1sb2dpbi1ib3ggew0KICB3aWR0aDogMzAwcHg7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgbGVmdDogNTAlOw0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7DQogIHRvcDogY2FsYyg1MHZoIC0gMjUwcHgpOw0KfQ0KLmJkLWxvZ2luLWZvcm0gL2RlZXAvIC5hbnQtaW5wdXQtYWZmaXgtd3JhcHBlciB7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIG1hcmdpbjogMDsNCiAgcGFkZGluZzogMDsNCiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42NSk7DQogIGZvbnQtc2l6ZTogMThweDsNCiAgZm9udC12YXJpYW50OiB0YWJ1bGFyLW51bXM7DQogIGxpbmUtaGVpZ2h0OiAxLjU7DQogIGxpc3Qtc3R5bGU6IG5vbmU7DQogIGZvbnQtZmVhdHVyZS1zZXR0aW5nczogJ3RudW0nOw0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgd2lkdGg6IDEwMCU7DQogIHRleHQtYWxpZ246IHN0YXJ0Ow0KfQ0KLmJkLWxvZ2luLWZvcm0gL2RlZXAvIC5hbnQtaW5wdXQtYWZmaXgtd3JhcHBlciAuYW50LWlucHV0LXByZWZpeCB7DQogIGxlZnQ6IDEycHg7DQp9DQouYmQtbG9naW4tZm9ybSAvZGVlcC8gLmFudC1pbnB1dC1hZmZpeC13cmFwcGVyIC5hbnQtaW5wdXQtcHJlZml4LA0KLmFudC1pbnB1dC1hZmZpeC13cmFwcGVyIC5hbnQtaW5wdXQtc3VmZml4IHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDUwJTsNCiAgei1pbmRleDogMjsNCiAgZGlzcGxheTogLXdlYmtpdC1ib3g7DQogIGRpc3BsYXk6IC1tcy1mbGV4Ym94Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjY1KTsNCiAgbGluZS1oZWlnaHQ6IDA7DQogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsNCn0NCi5iZC1sb2dpbi1mb3JtIC9kZWVwLyAuYW50LWlucHV0LWFmZml4LXdyYXBwZXIgLmFudC1pbnB1dDpub3QoOmZpcnN0LWNoaWxkKSB7DQogIHBhZGRpbmctbGVmdDogNDhweDsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogNTBweDsNCiAgYm9yZGVyLXJhZGl1czogNnB4Ow0KfQ0K44CCYmQtbG9naW4tYm94IHsNCiAgY29sb3I6ICNmZmZmZmY7DQp9DQouYmQtbG9naW4tYm94IC5sb2dvIHsNCiAgaGVpZ2h0OiA1MHB4Ow0KfQ0KLmJkLWxvZ2luLWJveCAuYnRuIHsNCiAgd2lkdGg6IDEwMCU7DQogIGZvbnQtc2l6ZTogMThweDsNCiAgaGVpZ2h0OiA1MHB4Ow0KICBib3JkZXItcmFkaXVzOiA2cHg7DQp9DQouYmQtbG9naW4tYm94IC50aXRsZSB7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgY29sb3I6ICNmZmZmZmY7DQp9DQouYmQtbG9naW4tYm94IC50aXAgew0KICBjb2xvcjogI2ZmZmZmZjsNCiAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCi5iZC1sb2dpbi1ib3ggLmxpbmsgew0KICBwYWRkaW5nOiAwOw0KICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICBjb2xvcjogcmdiYSgwLCAyNTUsIDI1NSwgMC45KTsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\r\n  <div>\r\n    <video class=\"bd-login-video\" autoplay preload=\"preload\" muted loop>\r\n      <source src=\"~@/assets/video/mv.mp4\" type=\"video/mp4\" />\r\n    </video>\r\n    <div class=\"bd-login-container\">\r\n      <div class=\"bd-login-box\">\r\n        <h1 class=\"title\"><img class=\"logo\" src=\"~@/assets/logo.svg\" />商户管理后台</h1>\r\n        <a-form-model ref=\"loginForm\" class=\"bd-login-form\" :model=\"loginForm\" @submit=\"doLogin\">\r\n          <a-form-model-item\r\n            prop=\"merchantCode\"\r\n            :rules=\"[\r\n              {\r\n                required: true,\r\n                min: 2,\r\n                max: 6,\r\n                message: '商户简码为2~6个字符',\r\n              },\r\n              { pattern: /^[A-Za-z0-9]+$/, message: '商户简码由数字与字母组成' },\r\n            ]\"\r\n          >\r\n            <a-input v-model=\"loginForm.merchantCode\" placeholder=\"请输入商户简码，2~6个字符\">\r\n              <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"username\"\r\n            :rules=\"[\r\n              {\r\n                required: true,\r\n                min: 6,\r\n                max: 10,\r\n                message: '用户名为6~12个字符',\r\n              },\r\n              { pattern: /^[A-Za-z0-9]+$/, message: '用户名由数字与字母组成' },\r\n            ]\"\r\n          >\r\n            <a-input v-model=\"loginForm.username\" placeholder=\"请输入用户名，6-12个字符\">\r\n              <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"password\"\r\n            :rules=\"{\r\n              required: true,\r\n              min: 6,\r\n              max: 12,\r\n              message: '密码为6~12个字符',\r\n            }\"\r\n          >\r\n            <a-input-password v-model=\"loginForm.password\" type=\"password\" placeholder=\"请输入密码，6-12个字符\">\r\n              <a-icon type=\"lock\" slot=\"prefix\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input-password>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"captcha\"\r\n            :rules=\"{\r\n              required: true,\r\n              message: '请输入验证码',\r\n            }\"\r\n          >\r\n            <a-input v-model=\"loginForm.captcha\" placeholder=\"请输入验证码\">\r\n              <a-icon slot=\"prefix\" type=\"mail\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item>\r\n            <a-button type=\"primary\" class=\"btn\" htmlType=\"submit\" :loading=\"loading\">登录</a-button>\r\n          </a-form-model-item>\r\n        </a-form-model>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport md5 from 'md5'\r\nimport storage from 'store'\r\nimport { ACCESS_TOKEN } from '@/store/mutation-types'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: 'LoginForm',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loginForm: {\r\n        merchantCode: '',\r\n        username: '',\r\n        password: '',\r\n        captcha: '',\r\n      },\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    storage.remove(ACCESS_TOKEN)\r\n  },\r\n  methods: {\r\n    ...mapActions(['Login']),\r\n    doLogin(e) {\r\n      e.preventDefault()\r\n      this.$refs['loginForm'].validate((valid) => {\r\n        if (!valid) {\r\n          return\r\n        }\r\n        this.loading = true\r\n        const { password, ...rest } = this.loginForm\r\n        this.Login({\r\n          ...rest,\r\n          password: md5(password),\r\n        }).then(\r\n          this.$handleResponse(\r\n            () => {\r\n              window.location = 'index.html'\r\n            },\r\n            () => (this.loading = false)\r\n          )\r\n        )\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.bd-login-video {\r\n  position: fixed;\r\n  right: 0;\r\n  bottom: 0;\r\n  min-width: 100%;\r\n  min-height: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  z-index: 0;\r\n}\r\n.bd-login-box {\r\n  width: 300px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: calc(50vh - 250px);\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n  color: rgba(0, 0, 0, 0.65);\r\n  font-size: 18px;\r\n  font-variant: tabular-nums;\r\n  line-height: 1.5;\r\n  list-style: none;\r\n  font-feature-settings: 'tnum';\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n  text-align: start;\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input-prefix {\r\n  left: 12px;\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input-prefix,\r\n.ant-input-affix-wrapper .ant-input-suffix {\r\n  position: absolute;\r\n  top: 50%;\r\n  z-index: 2;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  align-items: center;\r\n  color: rgba(0, 0, 0, 0.65);\r\n  line-height: 0;\r\n  transform: translateY(-50%);\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input:not(:first-child) {\r\n  padding-left: 48px;\r\n  width: 100%;\r\n  height: 50px;\r\n  border-radius: 6px;\r\n}\r\n。bd-login-box {\r\n  color: #ffffff;\r\n}\r\n.bd-login-box .logo {\r\n  height: 50px;\r\n}\r\n.bd-login-box .btn {\r\n  width: 100%;\r\n  font-size: 18px;\r\n  height: 50px;\r\n  border-radius: 6px;\r\n}\r\n.bd-login-box .title {\r\n  text-align: center;\r\n  color: #ffffff;\r\n}\r\n.bd-login-box .tip {\r\n  color: #ffffff;\r\n  text-align: left;\r\n}\r\n.bd-login-box .link {\r\n  padding: 0;\r\n  text-align: left;\r\n  color: rgba(0, 255, 255, 0.9);\r\n}\r\n</style>"]}]}