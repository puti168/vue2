{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\merchant\\merchantInfo\\components\\EditTrial.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\merchant\\merchantInfo\\components\\EditTrial.vue","mtime":1615171048141},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n\tname: 'EditTrial',\r\n\tprops: {\r\n\t\taccountData: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\teditTrialInfoSuccess: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: function () {}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\taccountForm: {\r\n\t\t\t\tmodel: 2,\r\n\t\t\t\tagentName: '',\r\n\t\t\t\tapiRate: '',\r\n\t\t\t\tcooperations: []\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\taccountFormRules() {\r\n\t\t\tconst validateLimit = (rule, value, callback) => {\r\n\t\t\t\tif (!/^[1-9]\\d*$/.test(value)) {\r\n\t\t\t\t\tcallback(\r\n\t\t\t\t\t\tnew Error(this.$t('merchant_merchantinfo_components_edittrial_985'))\r\n\t\t\t\t\t)\r\n\t\t\t\t} else if (value > 100000) {\r\n\t\t\t\t\tcallback(\r\n\t\t\t\t\t\tnew Error(this.$t('merchant_merchantinfo_components_edittrial_986'))\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\ttrialGameUpperLimit: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalidator: validateLimit,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\taccountData(val) {\r\n\t\t\tthis.accountForm = {\r\n\t\t\t\t...val,\r\n\t\t\t\tsupportTrialGame: val.supportTrialGame !== null ? val.supportTrialGame : 1,\r\n\t\t\t\ttrialGameUpperLimit:\r\n\t\t\t\t\tval.trialGameUpperLimit === null || val.trialGameUpperLimit === 0\r\n\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t: val.trialGameUpperLimit\r\n\t\t\t\t\t\t? val.trialGameUpperLimit\r\n\t\t\t\t\t\t: 1000\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\thandleClose() {\r\n\t\t\tthis.$refs.accountForm.clearValidate()\r\n\t\t\tthis.$emit('input', false)\r\n\t\t},\r\n\t\tcommitAccount() {\r\n\t\t\tthis.$refs.accountForm.validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tconst form = {\r\n\t\t\t\t\t\tagentId: this.accountForm.agentId,\r\n\t\t\t\t\t\tagentName: this.accountForm.agentName,\r\n\t\t\t\t\t\tsupportTrialGame: this.accountForm.supportTrialGame,\r\n\t\t\t\t\t\ttrialGameUpperLimit: this.accountForm.trialGameUpperLimit\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$api.setTrialGameConfig(form).then((_) => {\r\n\t\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\t\tthis.$emit('input', false)\r\n\t\t\t\t\t\t\tthis.$emit('editTrialInfoSuccess', form)\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: this.$t(\r\n\t\t\t\t\t\t\t\t\tthis.$t('merchant_merchantinfo_components_edittrial_987')\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonRadioChange(value) {\r\n\t\t\tif (value === 0) {\r\n\t\t\t\tthis.accountForm.trialGameUpperLimit = 1000\r\n\t\t\t\tthis.$refs.accountForm.clearValidate()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n",null]}