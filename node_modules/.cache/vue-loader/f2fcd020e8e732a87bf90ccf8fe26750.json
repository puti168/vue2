{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\home\\components\\DashBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\home\\components\\DashBoard.vue","mtime":1616384580054},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport dayjs from 'dayjs'\r\nimport echarts from 'echarts'\r\nimport { formatCurrency } from '@/utils'\r\nimport list from '@/mixins/list'\r\nimport { mapGetters } from 'vuex'\r\nimport chinaJson from 'echarts/map/json/china.json'\r\nconst start = dayjs()\r\n\t.startOf('day')\r\n\t.subtract(7, 'd')\r\n\t.format('YYYY/MM/DD')\r\nconst end = dayjs()\r\n\t.endOf('day')\r\n\t.subtract(1, 'd')\r\n\t.format('YYYY/MM/DD')\r\nexport default {\r\n\tname: 'Dashboard',\r\n\tmixins: [list],\r\n\tprops: {\r\n\t\trecordType: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\theatAnalyisData: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\tprofitAnalysisData: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\tprovinceAnalysisData: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tsystemAnalysisData: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '网页',\r\n\t\t\t\t\tvalue: 20\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '手机网页',\r\n\t\t\t\t\tvalue: 20\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'IOS',\r\n\t\t\t\t\tvalue: 20\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '安卓',\r\n\t\t\t\t\tvalue: 20\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '其他',\r\n\t\t\t\t\tvalue: 20\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst start1 = dayjs()\r\n\t\t\t.startOf('day')\r\n\t\t\t.valueOf()\r\n\r\n\t\tconst end1 = dayjs()\r\n\t\t\t.endOf('day')\r\n\t\t\t.valueOf()\r\n\t\treturn {\r\n\t\t\ttimes: [start1, end1],\r\n\t\t\ttimes2: [start1, end1],\r\n\t\t\tbtnTime: 0,\r\n\t\t\theatCountDown: 30,\r\n\t\t\tprofitCountDown: 30,\r\n\t\t\tProvinceCountDown: 30,\r\n\t\t\tterminalCountDown: 30,\r\n\t\t\trecordTypes: 1,\r\n\t\t\tmax: 480,\r\n\t\t\tmin: 9,\r\n\t\t\tarr: [],\r\n\t\t\ttableData: [{}],\r\n\t\t\tmaxSize4Pin: 100,\r\n\t\t\tminSize4Pin: 20,\r\n\t\t\tgeoCoordMap: {\r\n\t\t\t\t北京: [116.46, 39.92],\r\n\t\t\t\t上海: [121.48, 31.22],\r\n\t\t\t\t天津: [117.2, 39.13],\r\n\t\t\t\t重庆: [107.51, 29.63],\r\n\t\t\t\t河北: [114.48, 38.03],\r\n\t\t\t\t山西: [112.53, 37.87],\r\n\t\t\t\t辽宁: [123.38, 41.8],\r\n\t\t\t\t吉林: [125.35, 43.88],\r\n\t\t\t\t黑龙江: [126.63, 45.75],\r\n\t\t\t\t浙江: [120.19, 30.26],\r\n\t\t\t\t福建: [119.3, 26.08],\r\n\t\t\t\t河南: [113.65, 34.76],\r\n\t\t\t\t湖北: [114.31, 30.52],\r\n\t\t\t\t湖南: [113, 28.21],\r\n\t\t\t\t广东: [113.23, 23.16],\r\n\t\t\t\t海南: [110.35, 20.02],\r\n\t\t\t\t四川: [104.06, 30.67],\r\n\t\t\t\t山东: [117.1582, 36.8701],\r\n\t\t\t\t贵州: [106.71, 26.57],\r\n\t\t\t\t云南: [102.73, 25.04],\r\n\t\t\t\t江西: [115.89, 28.68],\r\n\t\t\t\t陕西: [108.95, 34.27],\r\n\t\t\t\t青海: [101.74, 36.56],\r\n\t\t\t\t甘肃: [103.73, 36.03],\r\n\t\t\t\t广西: [108.67, 23.68],\r\n\t\t\t\t新疆: [87.68, 43.77],\r\n\t\t\t\t内蒙古: [111.65, 40.82],\r\n\t\t\t\t西藏: [91.11, 29.97],\r\n\t\t\t\t宁夏: [106.27, 38.47],\r\n\t\t\t\t台湾: [121.5, 25.14],\r\n\t\t\t\t香港: [114.1, 22.2],\r\n\t\t\t\t澳门: [113.33, 22.13],\r\n\t\t\t\t安徽: [117.27, 31.86],\r\n\t\t\t\t江苏: [118.78, 32.04]\r\n\t\t\t},\r\n\t\t\tscopeTime: [start, end],\r\n\t\t\tgameHeatData: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\ttext: this.$t('home_totalline_components_dashboard_407')\r\n\t\t\t\t},\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\tlet str = ''\r\n\t\t\t\t\t\tparams &&\r\n\t\t\t\t\t\t\tparams.forEach((element, index) => {\r\n\t\t\t\t\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t\t\t\t\tstr = `<div>${this.$t('detailrecord.detailrecord_18')}:${\r\n\t\t\t\t\t\t\t\t\t\telement.name\r\n\t\t\t\t\t\t\t\t\t} </div><div>${this.getEnName(element.seriesName)}:${formatCurrency(\r\n\t\t\t\t\t\t\t\t\t\telement.data,\r\n\t\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t\t)}</div>`\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tstr += `<div>${this.getEnName(element.seriesName)}:${formatCurrency(\r\n\t\t\t\t\t\t\t\t\t\telement.data,\r\n\t\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t\t)}</div>`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn str // 最后返回拼接好的值\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdata: [\r\n\t\t\t\t\t\tthis.$t('home_totalline_components_dashboard_400'),\r\n\t\t\t\t\t\tthis.$t('home_totalline_components_dashboard_408'),\r\n\t\t\t\t\t\tthis.$t('home_totalline_components_dashboard_402')\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tgrid: {\r\n\t\t\t\t\tleft: '3%',\r\n\t\t\t\t\tright: '4%',\r\n\t\t\t\t\tbottom: '3%',\r\n\t\t\t\t\tcontainLabel: true\r\n\t\t\t\t},\r\n\t\t\t\ttoolbox: {\r\n\t\t\t\t\tfeature: {\r\n\t\t\t\t\t\tsaveAsImage: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t},\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: this.$t('home_totalline_components_dashboard_400'),\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tsmooth: false,\r\n\t\t\t\t\t\t// 显示数值\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\t\t\t\t\tif (params.data !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn formatCurrency(params.data, false)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\t\twidth: 2,\r\n\t\t\t\t\t\t\t\t\ttype: 'solid' // 'dotted'虚线 'solid'实线\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: this.$t('home_totalline_components_dashboard_408'),\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tsmooth: false, // 关键点，为true是不支持虚线的，实线就用true\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\t\t\t\t\tif (params.data !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn formatCurrency(params.data, false)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\t\twidth: 2,\r\n\t\t\t\t\t\t\t\t\ttype: 'dotted' // 'dotted'虚线 'solid'实线\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: this.$t('home_totalline_components_dashboard_402'),\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tsmooth: false, // 关键点，为true是不支持虚线的，实线就用true\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\t\t\t\t\tif (params.data !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn formatCurrency(params.data, false)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\t\twidth: 2,\r\n\t\t\t\t\t\t\t\t\ttype: 'dashed' // 'dotted'虚线 'solid'实线\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tother: {},\r\n\t\t\tprovinceData: {\r\n\t\t\t\tbackgroundColor: {\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tx: 0,\r\n\t\t\t\t\ty: 0,\r\n\t\t\t\t\tx2: 1,\r\n\t\t\t\t\ty2: 1,\r\n\t\t\t\t\tcolorStops: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\tcolor: '#FFFF' // 0% 处的颜色\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\tcolor: '#FFFF' // 100% 处的颜色\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tglobalCoord: false // 缺省为 false\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\ttop: 20,\r\n\t\t\t\t\ttext: '',\r\n\t\t\t\t\tsubtext: '',\r\n\t\t\t\t\tx: 'center',\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#ccc'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'item',\r\n\t\t\t\t\tformatter: function(params) {\r\n\t\t\t\t\t\treturn params.name\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\torient: 'vertical',\r\n\t\t\t\t\ty: 'bottom',\r\n\t\t\t\t\tx: 'right',\r\n\t\t\t\t\tdata: ['pm2.5'],\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tvisualMap: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tmin: 0,\r\n\t\t\t\t\tmax: 500,\r\n\t\t\t\t\tleft: 'left',\r\n\t\t\t\t\ttop: 'bottom',\r\n\t\t\t\t\ttext: ['高', '低'], // 文本，默认为数值文本\r\n\t\t\t\t\tcalculable: true,\r\n\t\t\t\t\tseriesIndex: [1],\r\n\t\t\t\t\tinRange: {}\r\n\t\t\t\t},\r\n\t\t\t\tgeo: {\r\n\t\t\t\t\tmap: 'china',\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\troam: true,\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tareaColor: '#3674C1',\r\n\t\t\t\t\t\t\tborderColor: '#0a53e9', // 线\r\n\t\t\t\t\t\t\tshadowColor: '#092f8f', // 外发光\r\n\t\t\t\t\t\t\tshadowBlur: 20\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\tareaColor: '#0a2dae' // 悬浮区背景\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsymbolSize: 5,\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tformatter: '{b}',\r\n\t\t\t\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\t\tshow: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: '#FFBB45'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tname: 'light',\r\n\t\t\t\t\t\ttype: 'scatter',\r\n\t\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'map',\r\n\t\t\t\t\t\tmap: 'china',\r\n\t\t\t\t\t\tgeoIndex: 0,\r\n\t\t\t\t\t\taspectScale: 0.75, // 长宽比\r\n\t\t\t\t\t\tshowLegendSymbol: false, // 存在legend时显示\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tshow: false\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\t\tshow: false,\r\n\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\troam: true,\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tareaColor: '#FFBB45',\r\n\t\t\t\t\t\t\t\tborderColor: '#FFBB45'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\t\t\tareaColor: '#FFBB45'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tanimation: false,\r\n\t\t\t\t\t\tdata: this.provinceAnalysisData\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'Top 3',\r\n\t\t\t\t\t\ttype: 'scatter',\r\n\t\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\t\tsymbol: 'pin',\r\n\t\t\t\t\t\tsymbolSize: [50, 50],\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\t\t\t\tfontSize: 9\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tformatter(value) {\r\n\t\t\t\t\t\t\t\t\treturn value.data.value[2]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: '#FFBB45' // 标志颜色\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {},\r\n\t\t\t\t\t\tshowEffectOn: 'render',\r\n\t\t\t\t\t\trippleEffect: {\r\n\t\t\t\t\t\t\tbrushType: 'stroke'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\thoverAnimation: true,\r\n\t\t\t\t\t\tzlevel: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'Top 4-10',\r\n\t\t\t\t\t\ttype: 'scatter',\r\n\t\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\t\tsymbol: 'pin',\r\n\t\t\t\t\t\tsymbolSize: [35, 35],\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\tcolor: '#FFBB45',\r\n\t\t\t\t\t\t\t\t\tfontSize: 9\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tformatter(value) {\r\n\t\t\t\t\t\t\t\t\treturn value.data.value[2]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: '#FFBB45' // 标志颜色\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {},\r\n\t\t\t\t\t\tshowEffectOn: 'render',\r\n\t\t\t\t\t\trippleEffect: {\r\n\t\t\t\t\t\t\tbrushType: 'stroke'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\thoverAnimation: true,\r\n\t\t\t\t\t\tzlevel: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'others',\r\n\t\t\t\t\t\ttype: 'scatter',\r\n\t\t\t\t\t\tcoordinateSystem: 'geo',\r\n\t\t\t\t\t\tsymbol: 'pin',\r\n\t\t\t\t\t\tsymbolSize: [25, 25],\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tshow: true,\r\n\t\t\t\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\t\t\t\tfontSize: 9\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tformatter(value) {\r\n\t\t\t\t\t\t\t\t\treturn value.data.value[2]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tcolor: '#FFBB45' // 标志颜色\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {},\r\n\t\t\t\t\t\tshowEffectOn: 'render',\r\n\t\t\t\t\t\trippleEffect: {\r\n\t\t\t\t\t\t\tbrushType: 'stroke'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\thoverAnimation: true,\r\n\t\t\t\t\t\tzlevel: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tprofitData: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\ttext: this.$t('home_totalline_components_dashboard_407')\r\n\t\t\t\t},\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\tlet str = ''\r\n\t\t\t\t\t\tparams &&\r\n\t\t\t\t\t\t\tparams.forEach((element, index) => {\r\n\t\t\t\t\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t\t\t\t\tstr = `<div>${this.$t('detailrecord.detailrecord_18')}:${\r\n\t\t\t\t\t\t\t\t\t\telement.name\r\n\t\t\t\t\t\t\t\t\t} </div><div>${this.getEnName(element.seriesName)}:${formatCurrency(\r\n\t\t\t\t\t\t\t\t\t\telement.data,\r\n\t\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t\t)}</div>`\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tstr += `<div>${this.getEnName(element.seriesName)}:${formatCurrency(\r\n\t\t\t\t\t\t\t\t\t\telement.data,\r\n\t\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t\t)}</div>`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn str // 最后返回拼接好的值\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tdata: [\r\n\t\t\t\t\t\tthis.$t('home_totalline_components_dashboard_405'),\r\n\t\t\t\t\t\tthis.$t('home_totalline_components_dashboard_409')\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tgrid: {\r\n\t\t\t\t\tleft: '3%',\r\n\t\t\t\t\tright: '4%',\r\n\t\t\t\t\tbottom: '3%',\r\n\t\t\t\t\tcontainLabel: true\r\n\t\t\t\t},\r\n\t\t\t\ttoolbox: {\r\n\t\t\t\t\tfeature: {\r\n\t\t\t\t\t\tsaveAsImage: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\txAxis: {\r\n\t\t\t\t\ttype: 'category',\r\n\t\t\t\t\tboundaryGap: false,\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t},\r\n\t\t\t\tyAxis: {\r\n\t\t\t\t\ttype: 'value'\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: this.$t('home_totalline_components_dashboard_405'),\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tstack: this.$t('home_totalline_components_dashboard_405'),\r\n\t\t\t\t\t\t// 显示数值\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\t\t\t\t\tif (params.data !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn formatCurrency(params.data, false)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: this.$t('home_totalline_components_dashboard_409'),\r\n\t\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\t\tsmooth: false, // 关键点，为true是不支持虚线的，实线就用true\r\n\t\t\t\t\t\tstack: this.$t('home_totalline_components_dashboard_409'),\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\t\t\t\t\tif (params.data !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn formatCurrency(params.data, false)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\t\twidth: 2,\r\n\t\t\t\t\t\t\t\t\ttype: 'dotted' // 'dotted'虚线 'solid'实线\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tsystemData: {\r\n\t\t\t\tcolor: ['#F96365', '#FFBB45', '#5797E6', '#62EFFC', '#9B85F9'],\r\n\t\t\t\ttooltip: {\r\n\t\t\t\t\ttrigger: 'item',\r\n\t\t\t\t\tformatter: '{b} : {c} ({d}%)'\r\n\t\t\t\t},\r\n\t\t\t\ttoolbox: {\r\n\t\t\t\t\tshow: true\r\n\t\t\t\t},\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\ttype: 'scroll',\r\n\t\t\t\t\torient: 'vertical',\r\n\t\t\t\t\tright: 10,\r\n\t\t\t\t\ttop: 20,\r\n\t\t\t\t\talign: 'right',\r\n\t\t\t\t\ttextStyle: {\r\n\t\t\t\t\t\tcolor: '#8C8C8C'\r\n\t\t\t\t\t},\r\n\t\t\t\t\theight: 450\r\n\t\t\t\t},\r\n\t\t\t\tseries: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\ttype: 'pie',\r\n\t\t\t\t\t\tradius: [0, 150],\r\n\t\t\t\t\t\tright: 200,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tformatter: '{b}：{d}%'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['userInfo'])\r\n\t},\r\n\twatch: {\r\n\t\trecordType(val) {\r\n\t\t\tthis.recordTypes = val\r\n\t\t},\r\n\t\theatAnalyisData(val) {\r\n\t\t\tthis.gameHeatData.xAxis['data'] = val.xaxis.data\r\n\t\t\tconst series = []\r\n\t\t\tseries[0] = {\r\n\t\t\t\t...this.gameHeatData.series[0],\r\n\t\t\t\t...val.series[0],\r\n\t\t\t\tstack: this.$t('home_totalline_components_dashboard_410')\r\n\t\t\t}\r\n\t\t\tseries[1] = {\r\n\t\t\t\t...this.gameHeatData.series[1],\r\n\t\t\t\t...val.series[1],\r\n\t\t\t\tstack: this.$t('home_totalline_components_dashboard_411')\r\n\t\t\t}\r\n\t\t\tif (this.recordTypes === 0) {\r\n\t\t\t\tseries[2] = {\r\n\t\t\t\t\t...val.series[2],\r\n\t\t\t\t\tstack: this.$t('home_totalline_components_dashboard_412'),\r\n\t\t\t\t\tname: '试玩上限',\r\n\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\tsmooth: false, // 关键点，为true是不支持虚线的，实线就用true\r\n\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\tnormal: {\r\n\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\tformatter: (params) => {\r\n\t\t\t\t\t\t\t\t\tif (params.data !== 0 && params.dataIndex === 23) {\r\n\t\t\t\t\t\t\t\t\t\treturn formatCurrency(params.data, false)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\t\twidth: 2,\r\n\t\t\t\t\t\t\t\ttype: 'dashed' // 'dotted'虚线 'solid'实线\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.gameHeatData = {\r\n\t\t\t\t...this.gameHeatData,\r\n\t\t\t\tseries\r\n\t\t\t}\r\n\t\t},\r\n\t\tprofitAnalysisData(val) {\r\n\t\t\tthis.profitData.xAxis['data'] = val.xaxis.data\r\n\t\t\tthis.profitData.series[0] = {\r\n\t\t\t\t...this.profitData.series[0],\r\n\t\t\t\t...val.series[0]\r\n\t\t\t}\r\n\t\t\tthis.profitData.series[1] = {\r\n\t\t\t\t...this.profitData.series[1],\r\n\t\t\t\t...val.series[1]\r\n\t\t\t}\r\n\t\t},\r\n\t\tprovinceAnalysisData(val) {\r\n\t\t\tthis.provinceAnalysisData.forEach((item, index) => {\r\n\t\t\t\tif (item.name === '其它') {\r\n\t\t\t\t\tthis.other = item\r\n\t\t\t\t\tthis.provinceAnalysisData.splice(index, 1)\r\n\t\t\t\t}\r\n\t\t\t\tthis.arr = this.provinceAnalysisData\r\n\t\t\t})\r\n\t\t\tthis.provinceData.series[0].data = this.convertData(\r\n\t\t\t\tthis.provinceAnalysisData\r\n\t\t\t)\r\n\t\t\tlet arr1 = []\r\n\t\t\tlet arr2 = []\r\n\t\t\tlet arr3 = []\r\n\t\t\tarr1 = this.provinceAnalysisData.slice(0, 3)\r\n\t\t\tarr2 = this.provinceAnalysisData.slice(3, 9)\r\n\t\t\tarr3 = this.provinceAnalysisData.slice(9)\r\n\t\t\tthis.provinceData.series[2].data = this.convertData(arr1)\r\n\t\t\tthis.provinceData.series[3].data = this.convertData(arr2)\r\n\t\t\tthis.provinceData.series[4].data = this.convertData(arr3)\r\n\t\t},\r\n\t\tsystemAnalysisData(val) {\r\n\t\t\tconsole.log(val)\r\n\t\t\tthis.systemData.series[0].data = JSON.parse(JSON.stringify(val))\r\n\t\t\tthis.tableData = [{}]\r\n\t\t\tval.forEach((item, index) => {\r\n\t\t\t\tswitch (item.name) {\r\n\t\t\t\t\tcase '网页':\r\n\t\t\t\t\t\tthis.tableData[0].web = item.value\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\tcase '手机网页':\r\n\t\t\t\t\t\tthis.tableData[0].h5 = item.value\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\tcase 'Ios':\r\n\t\t\t\t\t\tthis.tableData[0].ios = item.value\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\tcase 'Android':\r\n\t\t\t\t\t\tthis.tableData[0].android = item.value\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\tcase '其他设备':\r\n\t\t\t\t\t\tthis.tableData[0].other = item.value\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.$set(this.tableData)\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\techarts.registerMap('china', chinaJson)\r\n\t\twindow.addEventListener('resize', this.resizeHandle)\r\n\t},\r\n\tdestroyed() {\r\n\t\twindow.removeEventListener('resize', this.resizeHandle)\r\n\t},\r\n\tmethods: {\r\n\t\tresizeHandle() {\r\n\t\t\tthis.$refs.gameEchart && this.$refs.gameEchart.resize()\r\n\t\t\tthis.$refs.profitEchart && this.$refs.profitEchart.resize()\r\n\t\t\tthis.$refs.systemEchart && this.$refs.systemEchart.resize()\r\n\t\t\tthis.$refs.provinceEchart && this.$refs.provinceEchart.resize()\r\n\t\t},\r\n\t\tradioChange(value) {\r\n\t\t\tthis.$emit('gameHeatChange', value)\r\n\t\t},\r\n\t\tconvertData(data) {\r\n\t\t\tconst res = []\r\n\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\tconst geoCoord = this.geoCoordMap[data[i].name]\r\n\t\t\t\tif (geoCoord) {\r\n\t\t\t\t\tres.push({\r\n\t\t\t\t\t\tname: data[i].name,\r\n\t\t\t\t\t\tvalue: geoCoord.concat(data[i].value)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t},\r\n\t\treset() {\r\n\t\t\tconst start1 = dayjs()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.valueOf()\r\n\r\n\t\t\tconst end1 = dayjs()\r\n\t\t\t\t.endOf('day')\r\n\t\t\t\t.valueOf()\r\n\t\t\tthis.times = [start1, end1]\r\n\t\t\tthis.times2 = [start1, end1]\r\n\t\t},\r\n\t\t// 省份日期改变\r\n\t\ttimeChange(value) {\r\n\t\t\tthis.$emit('Province', this.times)\r\n\t\t},\r\n\t\ttimeChange2(value) {\r\n\t\t\tthis.$emit('terminal', this.times2)\r\n\t\t},\r\n\t\t// 刷新倒计时\r\n\t\trefreshCountDown(type) {\r\n\t\t\tconst time = setInterval(() => {\r\n\t\t\t\tthis[type] = this[type] - 1\r\n\t\t\t\tif (this[type] === 0) {\r\n\t\t\t\t\tclearInterval(time)\r\n\t\t\t\t\tthis[type] = 30\r\n\t\t\t\t}\r\n\t\t\t}, 1000)\r\n\t\t},\r\n\t\t// 刷新\r\n\t\tonRefresh(value) {\r\n\t\t\tif (this.btnTime) {\r\n\t\t\t\tconst now = +new Date()\r\n\t\t\t\tif (now - this.btnTime < 1000) return\r\n\t\t\t}\r\n\t\t\tthis.btnTime = +new Date()\r\n\t\t\tif (value === 1) {\r\n\t\t\t\tthis.$emit('gameHeatAnalyis')\r\n\t\t\t\tthis.refreshCountDown('heatCountDown')\r\n\t\t\t} else if (value === 2) {\r\n\t\t\t\tthis.$emit('profitAnalysis')\r\n\t\t\t\tthis.refreshCountDown('profitCountDown')\r\n\t\t\t} else if (value === 3) {\r\n\t\t\t\tthis.$emit('Province', this.times)\r\n\t\t\t\tthis.refreshCountDown('ProvinceCountDown')\r\n\t\t\t} else if (value === 4) {\r\n\t\t\t\tthis.$emit('terminal', this.times2)\r\n\t\t\t\tthis.refreshCountDown('terminalCountDown')\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetEnName(name) {\r\n\t\t\tif (name.includes('在线人数')) {\r\n\t\t\t\treturn this.$t('home_totalline_components_dashboard_400')\r\n\t\t\t}\r\n\t\t\tif (name.includes('试玩上限')) {\r\n\t\t\t\treturn this.$t('home_totalline_components_dashboard_402')\r\n\t\t\t}\r\n\t\t\tif (name.includes('前七天在线均值')) {\r\n\t\t\t\treturn this.$t('home_totalline_components_dashboard_408')\r\n\t\t\t}\r\n\t\t\tif (name.includes('前7天盈利均值')) {\r\n\t\t\t\treturn this.$t('home_totalline_components_dashboard_409')\r\n\t\t\t}\r\n\t\t\tif (name.includes('盈利')) {\r\n\t\t\t\treturn this.$t('home_totalline_components_dashboard_405')\r\n\t\t\t}\r\n\r\n\t\t\treturn name\r\n\t\t}\r\n\t}\r\n}\r\n",null]}