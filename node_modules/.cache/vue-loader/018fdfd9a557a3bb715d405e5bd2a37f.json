{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\members\\list\\components\\EditMemberInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\members\\list\\components\\EditMemberInfo.vue","mtime":1617695097416},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { message } from '@/utils/message'\r\n\r\nexport default {\r\n\tname: 'EditMemberInfo',\r\n\tprops: {\r\n\t\teditVisible: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tbetLimits: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tmemberInfo: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tform: {\r\n\t\t\t\tlimitRed: -1,\r\n\t\t\t\tmostHigh: -1\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tmemberInfo(value) {\r\n\t\t\t// id更改为中文和id拼接的数据,需要额外进行一些分离\r\n\t\t\tthis.form = {\r\n\t\t\t\t...this.form,\r\n\t\t\t\t...value,\r\n\t\t\t\tmostHigh: +value.biggestWinMoney > 0 ? 0 : 1\r\n\t\t\t}\r\n\t\t},\r\n\t\t'form.biggestWinMoney': {\r\n\t\t\thandler(val) {\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tthis.form.biggestWinMoney = +val.toString().replace(/\\D/g, '')\r\n\t\t\t\t}\r\n\t\t\t\tif (this.form.biggestWinMoney > 100000000000) {\r\n\t\t\t\t\tthis.form.biggestWinMoney = 100000000000\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcancel() {\r\n\t\t\tthis.$emit('update:editVisible', false)\r\n\t\t},\r\n\t\thandleSure() {\r\n\t\t\tconst params = {\r\n\t\t\t\tbetStatus: this.form.betStatus,\r\n\t\t\t\tbiggestWinMoney: this.form.mostHigh === 0 ? +this.form.biggestWinMoney : 0,\r\n\t\t\t\tid: this.form.playerId,\r\n\t\t\t\tstatus: this.form.status,\r\n\t\t\t\tuserName: this.form.userName\r\n\t\t\t}\r\n\t\t\tif (this.form.mostHigh === 0 && this.form.biggestWinMoney === 0) {\r\n\t\t\t\treturn message({\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tmessage: this.$t('members_list_components_editmemberinfo_632')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.$api.updatePlayerInfo(params).then((res) => {\r\n\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\tmessage({\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: this.$t('members_list_components_editmemberinfo_633')\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$emit('update:editVisible', false)\r\n\t\t\t\t\tthis.$emit('updatePlayerInfoSuccess')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n",null]}