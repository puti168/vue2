{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\handlelog\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\handlelog\\index.vue","mtime":1617695097440},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport list from '@/mixins/list'\r\nimport { mapGetters } from 'vuex'\r\nimport { routerNames } from '@/utils/consts'\r\nimport { generateTitle } from '@/utils/i18n'\r\nimport dayjs from 'dayjs'\r\nimport Cookies from 'js-cookie'\r\nimport SelectAgentTree from '@/components/SelectAgentTree'\r\nexport default {\r\n\tname: routerNames.systemExeclog,\r\n\tcomponents: { SelectAgentTree },\r\n\tmixins: [list],\r\n\tdata() {\r\n\t\tconst end = dayjs()\r\n\t\t\t.endOf('day')\r\n\t\t\t.valueOf()\r\n\t\tconst start = dayjs()\r\n\t\t\t.startOf('day')\r\n\t\t\t.subtract(6, 'd')\r\n\t\t\t.valueOf()\r\n\t\treturn {\r\n\t\t\thadSearch: false,\r\n\t\t\tloading: false,\r\n\t\t\treleaseTime: '',\r\n\t\t\tform: {\r\n\t\t\t\ttime: [start, end],\r\n\t\t\t\tip: '',\r\n\t\t\t\tsearchAgentId: '',\r\n\t\t\t\tuserName: '',\r\n\t\t\t\toperationType: -1\r\n\t\t\t},\r\n\t\t\turlDialogVisible: false,\r\n\t\t\turlDialogForm: {\r\n\t\t\t\tagentName: '',\r\n\t\t\t\ttype: '',\r\n\t\t\t\turl: '',\r\n\t\t\t\tdesc: ''\r\n\t\t\t},\r\n\t\t\tuserNames: []\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['globalDics', 'userInfo']),\r\n\t\toperationtype() {\r\n\t\t\treturn this.globalDics.operationtype\r\n\t\t\t// const types = this.globalDics.operationtype || []\r\n\t\t\t// return types.map((item) => {\r\n\t\t\t// \treturn {\r\n\t\t\t// \t\tvalue: item.value,\r\n\t\t\t// \t\tlabel: item.text,\r\n\t\t\t// \t\tzh: item.text,\r\n\t\t\t// \t\ten: item.englishText,\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t},\r\n\t\tpickerOptions() {\r\n\t\t\tconst _this = this\r\n\t\t\treturn {\r\n\t\t\t\tdisabledDate(time) {\r\n\t\t\t\t\tconst now = dayjs()\r\n\t\t\t\t\t\t.endOf('day')\r\n\t\t\t\t\t\t.valueOf()\r\n\t\t\t\t\treturn time.getTime() > now\r\n\t\t\t\t},\r\n\t\t\t\tonPick({ maxDate, minDate }) {\r\n\t\t\t\t\tif (!maxDate) {\r\n\t\t\t\t\t\t_this.minDate = minDate\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tshortcuts: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t(`members_betrecord_index_584`),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = dayjs().endOf('day')\r\n\t\t\t\t\t\t\tconst start = dayjs().startOf('day')\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t(`members_betrecord_index_585`),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = dayjs()\r\n\t\t\t\t\t\t\t\t.endOf('day')\r\n\t\t\t\t\t\t\t\t.subtract(1, 'd')\r\n\t\t\t\t\t\t\tconst start = dayjs()\r\n\t\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t\t.subtract(1, 'd')\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t(`members_betrecord_index_586`),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tlet start, end\r\n\t\t\t\t\t\t\tconst weekNum = dayjs().day()\r\n\t\t\t\t\t\t\tif (weekNum === 0) {\r\n\t\t\t\t\t\t\t\tend = dayjs().endOf('day')\r\n\t\t\t\t\t\t\t\tstart = dayjs()\r\n\t\t\t\t\t\t\t\t\t.subtract(1, 'd')\r\n\t\t\t\t\t\t\t\t\t.startOf('week')\r\n\t\t\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t\t\t.add(1, 'd')\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tend = dayjs().endOf('day')\r\n\t\t\t\t\t\t\t\tstart = dayjs()\r\n\t\t\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t\t\t.startOf('week')\r\n\t\t\t\t\t\t\t\t\t.add(1, 'd')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t(`members_betrecord_index_587`),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = dayjs().endOf('day')\r\n\t\t\t\t\t\t\tconst start = dayjs().startOf('month')\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t(`merchant_dailyrateaccount_index_799`),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = dayjs().endOf('day')\r\n\t\t\t\t\t\t\tconst start = dayjs()\r\n\t\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t\t.subtract(89, 'd')\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\t// 获取操作账号\r\n\t\t// this.$api.listUsername().then((res) => {\r\n\t\t// \tif (res.code === 200) {\r\n\t\t// \t\tthis.userNames = res.data\r\n\t\t// \t}\r\n\t\t// })\r\n\t},\r\n\tmethods: {\r\n\t\trenderInfo(modifys, item) {\r\n\t\t\tlet newValue\r\n\t\t\tif (item.includes(this.$t('systemmanagement_handlelog_index_1426'))) {\r\n\t\t\t\tnewValue = []\r\n\t\t\t\tmodifys && modifys.map((val) => newValue.push(generateTitle(val)))\r\n\t\t\t} else {\r\n\t\t\t\tnewValue = modifys\r\n\t\t\t}\r\n\t\t\treturn this.getEnName(newValue)\r\n\t\t},\r\n\t\thadChangeColor(pre, next) {\r\n\t\t\tif (JSON.stringify(pre) !== JSON.stringify(next)) {\r\n\t\t\t\treturn 'change-color'\r\n\t\t\t}\r\n\t\t},\r\n\t\tloadData() {\r\n\t\t\tthis.loading = true\r\n\t\t\tconst initData = {\r\n\t\t\t\tpageIndex: this.pageIndex,\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tstartTime: this.form.time ? this.form.time[0] : '',\r\n\t\t\t\tendTime: this.form.time ? this.form.time[1] : '',\r\n\t\t\t\toperationType: this.form.operationType,\r\n\t\t\t\tuserName: this.form.userName,\r\n\t\t\t\tsearchAgentId: this.form.searchAgentId\r\n\t\t\t}\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.systemOperationLogList(initData)\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tconst data = _.data\r\n\t\t\t\t\tthis.list = data.record\r\n\t\t\t\t\tthis.total = data.totalRecord\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\thandleReset() {\r\n\t\t\tconst end = dayjs()\r\n\t\t\t\t.endOf('day')\r\n\t\t\t\t.valueOf()\r\n\t\t\tconst start = dayjs()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.subtract(6, 'd')\r\n\t\t\t\t.valueOf()\r\n\t\t\tthis.form = {\r\n\t\t\t\ttime: [start, end],\r\n\t\t\t\tip: '',\r\n\t\t\t\tsearchAgentId: '',\r\n\t\t\t\tuserName: '',\r\n\t\t\t\toperationType: -1\r\n\t\t\t}\r\n\t\t\tthis.hadSearch = false\r\n\t\t\tthis.initList()\r\n\t\t},\r\n\t\thandleSearch() {\r\n\t\t\tthis.hadSearch = true\r\n\t\t\tthis.pageIndex = 1\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\teditRow(row) {\r\n\t\t\tthis.urlDialogVisible = true\r\n\t\t\tthis.urlDialogForm = {\r\n\t\t\t\t...row,\r\n\t\t\t\tbeforeModify: row.beforeModify ? JSON.parse(row.beforeModify) : {},\r\n\t\t\t\tafterModify: row.afterModify ? JSON.parse(row.afterModify) : {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseDialog() {\r\n\t\t\tthis.urlDialogVisible = false\r\n\t\t},\r\n\t\tstopRow(index, rows) {\r\n\t\t\trows.splice(index, 1)\r\n\t\t},\r\n\t\tfitlerOperationtype(c) {\r\n\t\t\tconst arr = this.operationtype || []\r\n\t\t\tconst find = arr.find((item) => item.label === c)\r\n\t\t\tif (Cookies.get('language') === 'zh') {\r\n\t\t\t\treturn (find && find.zh) || '-'\r\n\t\t\t}\r\n\t\t\tif (Cookies.get('language') === 'en') {\r\n\t\t\t\treturn (find && find.en) || '-'\r\n\t\t\t}\r\n\t\t\treturn '-'\r\n\t\t},\r\n\t\tgetEnName(i) {\r\n\t\t\tif (i === '商户名称') return this.$t('members_list_index_690')\r\n\t\t\tif (i === '商户编码') return this.$t('members_report_index_712')\r\n\t\t\tif (i === '状态') return this.$t('systemmanagement_ipwhite_index_1437')\r\n\t\t\tif (i === '用户账号') {\r\n\t\t\t\treturn this.$t('authoritymanagement_usermanage_index_322')\r\n\t\t\t}\r\n\t\t\tif (i === '用户解锁') return this.$t('other_012')\r\n\t\t\tif (i === '角色名称') {\r\n\t\t\t\treturn this.$t('authoritymanagement_defaultrole_index_235')\r\n\t\t\t}\r\n\t\t\tif (i === '角色描述') {\r\n\t\t\t\treturn this.$t('authoritymanagement_defaultrole_index_236')\r\n\t\t\t}\r\n\t\t\tif (i === '角色状态') {\r\n\t\t\t\treturn this.$t('authoritymanagement_rolemanage_index_266')\r\n\t\t\t}\r\n\t\t\tif (i === '权限列表') return this.$t('systemmanagement_handlelog_index_1426')\r\n\t\t\tif (i === 'URL类型') return this.$t('other_013')\r\n\t\t\tif (i === 'URL地址') {\r\n\t\t\t\treturn this.$t('systemmanagement_businessadress_index_1321')\r\n\t\t\t}\r\n\t\t\tif (i === '作用域') return this.$t('systemmanagement_ipwhite_index_1446')\r\n\t\t\tif (i === '白名单IP') return this.$t('systemmanagement_ipwhite_index_1445')\r\n\t\t\tif (i === '商户域名') return this.$t('systemmanagement_domain_index_1362')\r\n\t\t\tif (i === '合作模式') {\r\n\t\t\t\treturn this.$t('merchant_accountinfo_components_tablecomp_746')\r\n\t\t\t}\r\n\t\t\tif (i === '点数购买比') {\r\n\t\t\t\treturn this.$t('merchant_dotdeal_components_tablemodal_903')\r\n\t\t\t}\r\n\t\t\tif (i === '购买比生效日期') return this.$t('other_014')\r\n\t\t\tif (i === '分成比例') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_editaccount_932')\r\n\t\t\t}\r\n\t\t\tif (i === '分成比例起始日期') return this.$t('other_015')\r\n\t\t\tif (i === '结算账号') return this.$t('other_016')\r\n\t\t\tif (i === '货币类型') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_editaccount_944')\r\n\t\t\t}\r\n\t\t\tif (i === '商户状态') return this.$t('other_017')\r\n\t\t\tif (i === '商户类型') {\r\n\t\t\t\treturn this.$t('authoritymanagement_defaultrole_index_234')\r\n\t\t\t}\r\n\t\t\tif (i === '转账模式') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_newbusiness_1043')\r\n\t\t\t}\r\n\t\t\tif (i === '免转钱包地址') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_newbusiness_1044')\r\n\t\t\t}\r\n\t\t\tif (i === '是否支持试玩') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_newbusiness_1045')\r\n\t\t\t}\r\n\t\t\tif (i === '试玩上限') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_edittrial_977')\r\n\t\t\t}\r\n\t\t\tif (i === '管理员账号') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_newbusiness_1019')\r\n\t\t\t}\r\n\t\t\tif (i === '管理员密码') return this.$t('other_018')\r\n\t\t\tif (i === '生效结束日期') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_keysmanage_995')\r\n\t\t\t}\r\n\t\t\tif (i === '生效起始日期') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_keysmanage_994')\r\n\t\t\t}\r\n\t\t\tif (i === '秘钥状态') return this.$t('other_019')\r\n\t\t\tif (i === '限红方案') return this.$t('merchant.merchant_1')\r\n\t\t\tif (i === '公告标题') return this.$t('notice_notice_index_1240')\r\n\t\t\tif (i === '开始播报时间') return this.$t('notice_notice_index_1242')\r\n\t\t\tif (i === '结束播报时间') return this.$t('notice_notice_index_1243')\r\n\t\t\tif (i === '公告内容') return this.$t('notice_notice_index_1256')\r\n\t\t\tif (i === '公告状态') return this.$t('notice.notice_19')\r\n\t\t\tif (i === '会员账号') return this.$t('members_list_index_687')\r\n\t\t\tif (i === '会员昵称') return this.$t('members_list_index_689')\r\n\t\t\tif (i === '账号状态') {\r\n\t\t\t\treturn this.$t('members_list_components_editmemberinfo_615')\r\n\t\t\t}\r\n\t\t\tif (i === '能否投注') {\r\n\t\t\t\treturn this.$t('members_list_components_editmemberinfo_619')\r\n\t\t\t}\r\n\t\t\tif (i === '会员限红') {\r\n\t\t\t\treturn this.$t('members_list_components_editmemberinfo_623')\r\n\t\t\t}\r\n\t\t\tif (i === '最高盈额') {\r\n\t\t\t\treturn this.$t('members_list_components_editmemberinfo_626')\r\n\t\t\t}\r\n\t\t\tif (i === '是') return this.$t('members_list_index_682')\r\n\t\t\tif (i === '否') return this.$t('members_list_index_683')\r\n\t\t\tif (i === '启用') return this.$t('members_list_index_685')\r\n\t\t\tif (i === '停用') return this.$t('members_list_index_686')\r\n\t\t\tif (i === '禁用') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_keysmanage_997')\r\n\t\t\t}\r\n\t\t\tif (i === '禁止投注') {\r\n\t\t\t\treturn this.$t('members_list_components_editmemberinfo_621')\r\n\t\t\t}\r\n\t\t\tif (i === '可以投注') {\r\n\t\t\t\treturn this.$t('members_list_components_editmemberinfo_620')\r\n\t\t\t}\r\n\t\t\tif (i === '不限额') {\r\n\t\t\t\treturn this.$t('members_list_components_editmemberinfo_627')\r\n\t\t\t}\r\n\t\t\tif (i === '线路商') {\r\n\t\t\t\treturn this.$t('merchant_merchantinfo_components_edittrial_972')\r\n\t\t\t}\r\n\t\t\tif (i === '版本时间') {\r\n\t\t\t\treturn this.$t('apidocument_index_12')\r\n\t\t\t}\r\n\t\t\tif (i === '新增时间') {\r\n\t\t\t\treturn this.$t('wallet_1')\r\n\t\t\t}\r\n\t\t\tif (i === '备注') {\r\n\t\t\t\treturn this.$t('members.members_49')\r\n\t\t\t}\r\n\t\t\tif (i === '文件类型') {\r\n\t\t\t\treturn this.$t('wallet_2')\r\n\t\t\t}\r\n\t\t\tif (i === '上传人') {\r\n\t\t\t\treturn this.$t('wallet_3')\r\n\t\t\t}\r\n\t\t\tif (i === '下载时间') {\r\n\t\t\t\treturn this.$t('wallet_4')\r\n\t\t\t}\r\n\t\t\tif (i === '钱包类型') {\r\n\t\t\t\treturn this.$t('wallet_5')\r\n\t\t\t}\r\n\t\t\tif (i === '文件名') {\r\n\t\t\t\treturn this.$t('wallet_6')\r\n\t\t\t}\r\n\t\t\tif (i === '导出时间') {\r\n\t\t\t\treturn this.$t('wallet_7')\r\n\t\t\t}\r\n\t\t\tif (i === '导出条数') {\r\n\t\t\t\treturn this.$t('wallet_8')\r\n\t\t\t}\r\n\t\t\tif (i === '导出人') {\r\n\t\t\t\treturn this.$t('wallet_9')\r\n\t\t\t}\r\n\t\t\treturn i\r\n\t\t}\r\n\t}\r\n}\r\n",null]}