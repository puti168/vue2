{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\pages\\login\\index.vue","mtime":1617594855329},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbWQ1IGZyb20gJ21kNScNCmltcG9ydCBzdG9yYWdlIGZyb20gJ3N0b3JlJw0KaW1wb3J0IHsgQUNDRVNTX1RPS0VOIH0gZnJvbSAnQC9zdG9yZS9tdXRhdGlvbi10eXBlcycNCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnTG9naW5Gb3JtJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBsb2dpbkZvcm06IHsNCiAgICAgICAgbWVyY2hhbnRDb2RlOiAnJywNCiAgICAgICAgdXNlcm5hbWU6ICcnLA0KICAgICAgICBwYXNzd29yZDogJycsDQogICAgICAgIGNhcHRjaGE6ICcnLA0KICAgICAgfSwNCiAgICB9DQogIH0sDQogIGJlZm9yZUNyZWF0ZSgpIHsNCiAgICBzdG9yYWdlLnJlbW92ZShBQ0NFU1NfVE9LRU4pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKFsnTG9naW4nXSksDQogICAgZG9Mb2dpbihlKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCkNCiAgICAgIHRoaXMuJHJlZnNbJ2xvZ2luRm9ybSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAoIXZhbGlkKSB7DQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICBjb25zdCB7IHBhc3N3b3JkLCAuLi5yZXN0IH0gPSB0aGlzLmxvZ2luRm9ybQ0KICAgICAgICB0aGlzLkxvZ2luKHsNCiAgICAgICAgICAuLi5yZXN0LA0KICAgICAgICAgIHBhc3N3b3JkOiBtZDUocGFzc3dvcmQpLA0KICAgICAgICB9KS50aGVuKA0KICAgICAgICAgIHRoaXMuJGhhbmRsZVJlc3BvbnNlKA0KICAgICAgICAgICAgKCkgPT4gew0KICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAnaW5kZXguaHRtbCcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAoKSA9PiAodGhpcy5sb2FkaW5nID0gZmFsc2UpDQogICAgICAgICAgKQ0KICAgICAgICApDQogICAgICB9KQ0KICAgIH0sDQogIH0sDQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\r\n  <div>\r\n    <video class=\"bd-login-video\" autoplay preload=\"preload\" muted loop>\r\n      <source src=\"~@/assets/video/mv.mp4\" type=\"video/mp4\" />\r\n    </video>\r\n    <div class=\"bd-login-container\">\r\n      <div class=\"bd-login-box\">\r\n        <h1 class=\"title\"><img class=\"logo\" src=\"~@/assets/logo.svg\" />商户管理后台</h1>\r\n        <a-form-model ref=\"loginForm\" class=\"bd-login-form\" :model=\"loginForm\" @submit=\"doLogin\">\r\n          <a-form-model-item\r\n            prop=\"merchantCode\"\r\n            :rules=\"[\r\n              {\r\n                required: true,\r\n                min: 2,\r\n                max: 6,\r\n                message: '商户简码为2~6个字符',\r\n              },\r\n              { pattern: /^[A-Za-z0-9]+$/, message: '商户简码由数字与字母组成' },\r\n            ]\"\r\n          >\r\n            <a-input v-model=\"loginForm.merchantCode\" placeholder=\"请输入商户简码，2~6个字符\">\r\n              <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"username\"\r\n            :rules=\"[\r\n              {\r\n                required: true,\r\n                min: 6,\r\n                max: 10,\r\n                message: '用户名为6~12个字符',\r\n              },\r\n              { pattern: /^[A-Za-z0-9]+$/, message: '用户名由数字与字母组成' },\r\n            ]\"\r\n          >\r\n            <a-input v-model=\"loginForm.username\" placeholder=\"请输入用户名，6-12个字符\">\r\n              <a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"password\"\r\n            :rules=\"{\r\n              required: true,\r\n              min: 6,\r\n              max: 12,\r\n              message: '密码为6~12个字符',\r\n            }\"\r\n          >\r\n            <a-input-password v-model=\"loginForm.password\" type=\"password\" placeholder=\"请输入密码，6-12个字符\">\r\n              <a-icon type=\"lock\" slot=\"prefix\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input-password>\r\n          </a-form-model-item>\r\n          <a-form-model-item\r\n            prop=\"captcha\"\r\n            :rules=\"{\r\n              required: true,\r\n              message: '请输入验证码',\r\n            }\"\r\n          >\r\n            <a-input v-model=\"loginForm.captcha\" placeholder=\"请输入验证码\">\r\n              <a-icon slot=\"prefix\" type=\"mail\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item>\r\n            <a-button type=\"primary\" class=\"btn\" htmlType=\"submit\" :loading=\"loading\">登录</a-button>\r\n          </a-form-model-item>\r\n        </a-form-model>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport md5 from 'md5'\r\nimport storage from 'store'\r\nimport { ACCESS_TOKEN } from '@/store/mutation-types'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: 'LoginForm',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loginForm: {\r\n        merchantCode: '',\r\n        username: '',\r\n        password: '',\r\n        captcha: '',\r\n      },\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    storage.remove(ACCESS_TOKEN)\r\n  },\r\n  methods: {\r\n    ...mapActions(['Login']),\r\n    doLogin(e) {\r\n      e.preventDefault()\r\n      this.$refs['loginForm'].validate((valid) => {\r\n        if (!valid) {\r\n          return\r\n        }\r\n        this.loading = true\r\n        const { password, ...rest } = this.loginForm\r\n        this.Login({\r\n          ...rest,\r\n          password: md5(password),\r\n        }).then(\r\n          this.$handleResponse(\r\n            () => {\r\n              window.location = 'index.html'\r\n            },\r\n            () => (this.loading = false)\r\n          )\r\n        )\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.bd-login-video {\r\n  position: fixed;\r\n  right: 0;\r\n  bottom: 0;\r\n  min-width: 100%;\r\n  min-height: 100%;\r\n  width: auto;\r\n  height: auto;\r\n  z-index: 0;\r\n}\r\n.bd-login-box {\r\n  width: 300px;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: calc(50vh - 250px);\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n  color: rgba(0, 0, 0, 0.65);\r\n  font-size: 18px;\r\n  font-variant: tabular-nums;\r\n  line-height: 1.5;\r\n  list-style: none;\r\n  font-feature-settings: 'tnum';\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n  text-align: start;\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input-prefix {\r\n  left: 12px;\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input-prefix,\r\n.ant-input-affix-wrapper .ant-input-suffix {\r\n  position: absolute;\r\n  top: 50%;\r\n  z-index: 2;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  align-items: center;\r\n  color: rgba(0, 0, 0, 0.65);\r\n  line-height: 0;\r\n  transform: translateY(-50%);\r\n}\r\n.bd-login-form /deep/ .ant-input-affix-wrapper .ant-input:not(:first-child) {\r\n  padding-left: 48px;\r\n  width: 100%;\r\n  height: 50px;\r\n  border-radius: 6px;\r\n}\r\n。bd-login-box {\r\n  color: #ffffff;\r\n}\r\n.bd-login-box .logo {\r\n  height: 50px;\r\n}\r\n.bd-login-box .btn {\r\n  width: 100%;\r\n  font-size: 18px;\r\n  height: 50px;\r\n  border-radius: 6px;\r\n}\r\n.bd-login-box .title {\r\n  text-align: center;\r\n  color: #ffffff;\r\n}\r\n.bd-login-box .tip {\r\n  color: #ffffff;\r\n  text-align: left;\r\n}\r\n.bd-login-box .link {\r\n  padding: 0;\r\n  text-align: left;\r\n  color: rgba(0, 255, 255, 0.9);\r\n}\r\n</style>"]}]}