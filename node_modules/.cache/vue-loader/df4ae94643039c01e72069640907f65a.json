{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\apilog\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\systemmanagement\\apilog\\index.vue","mtime":1617695097437},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport list from '@/mixins/list'\r\nimport { routerNames } from '@/utils/consts'\r\nimport SelectAgentTree from '@/components/SelectAgentTree'\r\nimport { mapGetters } from 'vuex'\r\nimport dayjs from 'dayjs'\r\n\r\nconst now = dayjs().startOf('day').valueOf()\r\n\r\nexport default {\r\n\tname: routerNames.systemApilog,\r\n\tcomponents: { SelectAgentTree },\r\n\tmixins: [list],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thadSearch: false,\r\n\t\t\tloading: false,\r\n\t\t\treleaseTime: '',\r\n\t\t\tnoticeDialogVisible: false,\r\n\t\t\tform: {\r\n\t\t\t\tqueryDate: now,\r\n\t\t\t\tip: '',\r\n\t\t\t\tstatus: 1,\r\n\t\t\t\tmethod: -1,\r\n\t\t\t\tagentId: ''\r\n\t\t\t},\r\n\t\t\tnoticeData: {},\r\n\t\t\turlDialogVisible: false,\r\n\t\t\turlDialogForm: {\r\n\t\t\t\tagentName: '',\r\n\t\t\t\ttype: '',\r\n\t\t\t\turl: '',\r\n\t\t\t\tdesc: ''\r\n\t\t\t},\r\n\t\t\t// 自定义分页数据\r\n\t\t\tpageNumber: 1,\r\n\t\t\tpageNumbers: [],\r\n\t\t\titeraNumber: 0,\r\n\t\t\ti: 0\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['globalDics']),\r\n\t\tapitype() {\r\n\t\t\treturn this.globalDics ? this.globalDics.apitype : []\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetPageNumbers() {\r\n\t\t\tconst numbers = []\r\n\t\t\tif (this.pageNumber > 10) {\r\n\t\t\t\tthis.iteraNumber = this.iteraNumber || 10\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.pageIndex === this.pageNumbers[this.pageNumbers.length - 1] ||\r\n\t\t\t\t\tthis.pageIndex === this.pageNumbers[0]\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.i = this.pageIndex - 5\r\n\t\t\t\t\tthis.iteraNumber = this.pageIndex + 5\r\n\t\t\t\t\tif (this.iteraNumber > this.pageNumber) {\r\n\t\t\t\t\t\tthis.iteraNumber = this.pageNumber\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.i < 0) {\r\n\t\t\t\t\tthis.i = 0\r\n\t\t\t\t\tthis.iteraNumber = 10\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.iteraNumber = this.pageNumber\r\n\t\t\t}\r\n\t\t\tfor (let i = this.i; i < this.iteraNumber; i++) {\r\n\t\t\t\tnumbers.push(i + 1)\r\n\t\t\t}\r\n\t\t\tthis.pageNumbers = numbers\r\n\t\t},\r\n\t\tloadData() {\r\n\t\t\tthis.loading = true\r\n\t\t\tconst initData = {\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tpageIndex: this.pageIndex,\r\n\t\t\t\tqueryDate: this.form.queryDate ? this.form.queryDate : '',\r\n\t\t\t\tstatus: 1\r\n\t\t\t}\r\n\t\t\tconst requestData = this.hadSearch\r\n\t\t\t\t? {\r\n\t\t\t\t\t\tagentId: this.form.agentId,\r\n\t\t\t\t\t\tmethod: this.form.method\r\n\t\t\t\t  }\r\n\t\t\t\t: {}\r\n\t\t\tconst form = {\r\n\t\t\t\t...initData,\r\n\t\t\t\t...requestData\r\n\t\t\t}\r\n\t\t\tthis.$api\r\n\t\t\t\t.systemApiLogList(form)\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\tconst data = _.data\r\n\t\t\t\t\t\tthis.list = data.record || []\r\n\t\t\t\t\t\tthis.total = data.totalRecord\r\n\t\t\t\t\t\tthis.pageNumber = Math.ceil(this.total / this.pageSize)\r\n\r\n\t\t\t\t\t\tthis.getPageNumbers()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tonPageChange() {\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tif (this.pageIndex === val) return\r\n\t\t\tthis.pageIndex = val\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\thandleReset() {\r\n\t\t\tthis.hadSearch = false\r\n\t\t\tthis.form = {\r\n\t\t\t\tqueryDate: now,\r\n\t\t\t\tip: '',\r\n\t\t\t\tstatus: 1,\r\n\t\t\t\tmethod: -1,\r\n\t\t\t\tuserName: ''\r\n\t\t\t}\r\n\t\t\tthis.iteraNumber = 0\r\n\t\t\tthis.i = 0\r\n\t\t\tthis.initList()\r\n\t\t},\r\n\t\thandleSearch() {\r\n\t\t\tthis.hadSearch = true\r\n\t\t\tthis.pageIndex = 1\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\teditRow(row) {\r\n\t\t\tthis.urlDialogVisible = true\r\n\t\t\tthis.urlDialogForm = { ...row }\r\n\t\t},\r\n\t\tstopRow(index, rows) {\r\n\t\t\trows.splice(index, 1)\r\n\t\t},\r\n\t\tfilterCode(code) {\r\n\t\t\treturn Number(code) === 0\r\n\t\t\t\t? this.$t('systemmanagement_apilog_index_1281')\r\n\t\t\t\t: this.$t('systemmanagement_apilog_index_1282')\r\n\t\t}\r\n\t}\r\n}\r\n",null]}