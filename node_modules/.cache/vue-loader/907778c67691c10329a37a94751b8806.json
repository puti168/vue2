{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\merchant\\merchantInfo\\components\\EditOpen.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\merchant\\merchantInfo\\components\\EditOpen.vue","mtime":1615171048140},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n\tname: 'EditTrial',\r\n\tprops: {\r\n\t\taccountData: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {}\r\n\t\t},\r\n\t\tmax: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\teditTrialInfoSuccess: {\r\n\t\t\ttype: Function,\r\n\t\t\tdefault: function() {}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\taccountForm: {\r\n\t\t\t\tavailableAccountLimit: 2,\r\n\t\t\t\tagentName: '',\r\n\t\t\t\tagentId: '',\r\n\t\t\t\tagentCode: ''\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\taccountFormRules() {\r\n\t\t\treturn {\r\n\t\t\t\tavailableAccountLimit: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\ttrigger: 'blur',\r\n\t\t\t\t\t\tmessage: this.$t('new_8')\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\taccountData(val) {\r\n\t\t\tthis.accountForm = {\r\n\t\t\t\t...val\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\thandleClose() {\r\n\t\t\tthis.$refs.accountForm.clearValidate()\r\n\t\t\tthis.$emit('input', false)\r\n\t\t},\r\n\t\tsetLimit(value) {\r\n\t\t\tif (!/^[1-9]\\d*$/.test(Number(this.accountForm.availableAccountLimit))) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: this.$t(this.$t('message.integerThan0')),\r\n\t\t\t\t\ttype: 'error'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (this.max < this.accountForm.availableAccountLimit && value === 2) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: this.$t(this.$t('backstage_2002201')),\r\n\t\t\t\t\ttype: 'error'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (this.max < this.accountForm.availableAccountLimit && value === 3) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: this.$t(this.$t('backstage_2002200')),\r\n\t\t\t\t\ttype: 'error'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.$refs.accountForm.validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tconst form = {\r\n\t\t\t\t\t\tagentId: this.accountForm.agentId,\r\n\t\t\t\t\t\tavailableAccountLimit: Number(this.accountForm.availableAccountLimit),\r\n\t\t\t\t\t\ttype: value\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$api.settingAccountLimit(form).then((_) => {\r\n\t\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\t\tthis.$emit('input', false)\r\n\t\t\t\t\t\t\tthis.$emit('closeEdit', false)\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: this.$t(\r\n\t\t\t\t\t\t\t\t\tthis.$t('merchant_merchantinfo_components_edittrial_987')\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n",null]}