{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\beautiful\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\beautiful\\index.vue","mtime":1617695097432},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from 'vuex'\r\nimport list from '@/mixins/list'\r\nimport SelectAgentTree from '@/components/SelectAgentTree'\r\nimport { routerNames } from '@/utils/consts'\r\nimport Cookies from 'js-cookie'\r\nexport default {\r\n\tname: routerNames.dealerReward,\r\n\tcomponents: {\r\n\t\tSelectAgentTree\r\n\t},\r\n\tmixins: [list],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttypeList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: this.$t('abnormalround_merchants_index_8'),\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\t{ name: this.$t('route.dealerReward'), value: 1 },\r\n\t\t\t\t{ name: this.$t('new_600'), value: 2 }\r\n\t\t\t\t// {name: '美女主播送礼', value: 3}\r\n\t\t\t],\r\n\t\t\tform: {\r\n\t\t\t\ttime: '',\r\n\t\t\t\tagentId: '',\r\n\t\t\t\tcreatedAtEnd: '',\r\n\t\t\t\tcreatedAtStart: '',\r\n\t\t\t\tdealerName: '',\r\n\t\t\t\tgameTypeId: -1,\r\n\t\t\t\tid: '',\r\n\t\t\t\tplayerName: '',\r\n\t\t\t\trewardAmountMax: '',\r\n\t\t\t\trewardAmountMin: '',\r\n\t\t\t\trewardType: '',\r\n\t\t\t\troundNo: '',\r\n\t\t\t\trewardName: -1,\r\n\t\t\t\ttableName: -1\r\n\t\t\t},\r\n\t\t\tdeviceTypeList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tlabel: 'PC'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\tlabel: 'APP'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 3,\r\n\t\t\t\t\tlabel: 'H5'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue: 5,\r\n\t\t\t\t\tlabel: this.$t('new_69')\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tdeviceList: [\r\n\t\t\t\t{ value: 1, label: 'PC' },\r\n\t\t\t\t{ value: 2, label: 'APP' },\r\n\t\t\t\t{ value: 3, label: 'H5' }\r\n\t\t\t],\r\n\t\t\tamountData: {\r\n\t\t\t\ttotalRewardNumber: '0',\r\n\t\t\t\ttotalRewardAmount: '0',\r\n\t\t\t\ttotalRewardTimes: '0',\r\n\t\t\t\tagentShare: '0'\r\n\t\t\t},\r\n\t\t\t// 分割线\r\n\t\t\tcardDeatilText1: '',\r\n\t\t\tcardDeatilText2: '',\r\n\t\t\tcardDeatilText3: '',\r\n\t\t\tdrawer: false,\r\n\t\t\tipData: null,\r\n\t\t\tloading: false,\r\n\t\t\treleaseTime: '',\r\n\t\t\tbetDialogVisible: false,\r\n\t\t\tdialogShow: false,\r\n\t\t\tdialogShow2: false,\r\n\t\t\tbetStatusList: [\r\n\t\t\t\tthis.$t('members.members_16'),\r\n\t\t\t\tthis.$t('members.members_17'),\r\n\t\t\t\tthis.$t('members.members_18'),\r\n\t\t\t\tthis.$t('members.members_19'),\r\n\t\t\t\tthis.$t('members.members_20'),\r\n\t\t\t\tthis.$t('members.members_21')\r\n\t\t\t],\r\n\t\t\tvideoSrc: '',\r\n\t\t\tshowVideo: false,\r\n\t\t\tcurrentData: {},\r\n\t\t\tcurrentData2: {},\r\n\t\t\ttableList: {},\r\n\t\t\tuserAgentType: '',\r\n\t\t\tdetailVisible: false,\r\n\t\t\tprevIndex: 1,\r\n\t\t\tdefaultSort: { prop: 'betAt', order: 'descending' },\r\n\t\t\ttableKey: +new Date(),\r\n\t\t\troundNo: '',\r\n\t\t\tplatforms: []\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t...mapGetters(['userInfo', 'globalDics']),\r\n\t\tgametype() {\r\n\t\t\tconst types = this.globalDics.gametype || []\r\n\t\t\treturn types.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\tlabel: item.text,\r\n\t\t\t\t\tzh: item.text,\r\n\t\t\t\t\ten: item.englishText\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgiftName() {\r\n\t\t\tconst giftname = this.globalDics.giftname || []\r\n\t\t\treturn giftname.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\tlabel: item.text,\r\n\t\t\t\t\tzh: item.text,\r\n\t\t\t\t\ten: item.englishText\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgiftList() {\r\n\t\t\tconst arr = [\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_18'), value: '001' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_19'), value: '002' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_20'), value: '003' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_21'), value: '004' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_22'), value: '005' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_23'), value: '006' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_24'), value: '007' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_25'), value: '008' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_26'), value: '009' },\r\n\t\t\t\t{ name: this.$t('beautygirlrecord_index_27'), value: '010' }\r\n\t\t\t]\r\n\t\t\treturn arr\r\n\t\t}\r\n\t},\r\n\twatch: {},\r\n\tmounted() {\r\n\t\tthis.getTableList()\r\n\t},\r\n\tdestroyed() {},\r\n\tmethods: {\r\n\t\t// 失去焦点的时候重置\r\n\t\tonTimeBlur() {\r\n\t\t\tthis.minDate = null\r\n\t\t},\r\n\t\tgetSummaries(param) {\r\n\t\t\tconst { columns } = param\r\n\t\t\tconst sums = []\r\n\t\t\tcolumns.forEach((column, index) => {\r\n\t\t\t\tif (index === 0) {\r\n\t\t\t\t\tsums[index] = this.$t('new_63')\r\n\t\t\t\t}\r\n\t\t\t\tif (index === 4) {\r\n\t\t\t\t\tsums[index] =\r\n\t\t\t\t\t\tthis.$t('beautygirlrecord_index_30') +\r\n\t\t\t\t\t\tthis.amountData[`totalRewardNumber`]\r\n\t\t\t\t}\r\n\t\t\t\tif (index === 5) {\r\n\t\t\t\t\tsums[index] =\r\n\t\t\t\t\t\tthis.$t('beautygirlrecord_index_31') +\r\n\t\t\t\t\t\tthis.amountData[`totalRewardAmount`]\r\n\t\t\t\t}\r\n\t\t\t\tif (index === 6) {\r\n\t\t\t\t\tsums[index] = this.$t('new_66') + this.amountData[`agentShare`]\r\n\t\t\t\t}\r\n\t\t\t\tif (column.property === 'badAmount') {\r\n\t\t\t\t\tsums[index] = this.formatCurrency(this.summary[`badAmount`])\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\treturn sums\r\n\t\t},\r\n\t\tfilterRewardName(i) {\r\n\t\t\tif (i === '爱心') return this.$t('beautygirlrecord_index_18')\r\n\t\t\tif (i === '玫瑰') return this.$t('beautygirlrecord_index_19')\r\n\t\t\tif (i === '跳舞') return this.$t('beautygirlrecord_index_20')\r\n\t\t\tif (i === '红酒') return this.$t('beautygirlrecord_index_21')\r\n\t\t\tif (i === '烛光晚餐') return this.$t('beautygirlrecord_index_22')\r\n\t\t\tif (i === '哈雷') return this.$t('beautygirlrecord_index_23')\r\n\t\t\tif (i === '钻戒') return this.$t('beautygirlrecord_index_24')\r\n\t\t\tif (i === '火箭') return this.$t('beautygirlrecord_index_25')\r\n\t\t\tif (i === '保时捷') return this.$t('beautygirlrecord_index_26')\r\n\t\t\tif (i === '别墅靠海') return this.$t('beautygirlrecord_index_27')\r\n\t\t},\r\n\t\tgetTableList() {\r\n\t\t\tthis.$api\r\n\t\t\t\t.getTableNameList()\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\tthis.tableList = _.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {})\r\n\t\t},\r\n\t\tloadData() {\r\n\t\t\tthis.loading = true\r\n\t\t\tconst initData = {\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tpageIndex: this.pageIndex,\r\n\t\t\t\tcreatedAtStart: this.form.time[0],\r\n\t\t\t\tcreatedAtEnd: this.form.time[1],\r\n\t\t\t\tagentId: this.form.agentId,\r\n\t\t\t\tgameTypeId: this.form.gameTypeId,\r\n\t\t\t\tid: this.form.id,\r\n\t\t\t\tdealerName: this.form.dealerName,\r\n\t\t\t\tplayerName: this.form.playerName,\r\n\t\t\t\ttableName: this.form.tableName,\r\n\t\t\t\trewardName: this.form.rewardName,\r\n\t\t\t\trewardAmountMax: this.form.rewardAmountMax,\r\n\t\t\t\trewardAmountMin: this.form.rewardAmountMin,\r\n\t\t\t\trewardType: this.form.rewardType,\r\n\t\t\t\troundNo: this.form.roundNo\r\n\t\t\t}\r\n\t\t\tif (this.$i18n.locale === 'en') {\r\n\t\t\t\tif (initData.rewardName === 'Love') initData.rewardName = '爱心'\r\n\t\t\t\tif (initData.rewardName === 'Rose') initData.rewardName = '玫瑰'\r\n\t\t\t\tif (initData.rewardName === 'Dancing') initData.rewardName = '跳舞'\r\n\t\t\t\tif (initData.rewardName === 'Red wine') initData.rewardName = '红酒'\r\n\t\t\t\tif (initData.rewardName === 'Candlelight dinner') {\r\n\t\t\t\t\tinitData.rewardName = '烛光晚餐'\r\n\t\t\t\t}\r\n\t\t\t\tif (initData.rewardName === 'Halle') initData.rewardName = '哈雷'\r\n\t\t\t\tif (initData.rewardName === 'Diamond ring') initData.rewardName = '钻戒'\r\n\t\t\t\tif (initData.rewardName === 'Rocket') initData.rewardName = '火箭'\r\n\t\t\t\tif (initData.rewardName === 'Porsche') initData.rewardName = '保时捷'\r\n\t\t\t\tif (initData.rewardName === 'Villa by the sea') {\r\n\t\t\t\t\tinitData.rewardName = '别墅靠海'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.anchorTablelist(initData)\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\tconst data = _.data\r\n\t\t\t\t\t\tthis.list = data.record\r\n\t\t\t\t\t\tthis.amountData = data.summary || {\r\n\t\t\t\t\t\t\ttotalRewardNumber: '0',\r\n\t\t\t\ttotalRewardAmount: '0',\r\n\t\t\t\ttotalRewardTimes: '0',\r\n\t\t\t\tagentShare: '0'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.total = data.totalRecord\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.pageIndex = this.prevIndex\r\n\t\t\t\t\tthis.list = []\r\n\t\t\t\t\tthis.amountData = {\r\n\t\t\t\t\t\ttotalRewardNumber: '0',\r\n\t\t\t\ttotalRewardAmount: '0',\r\n\t\t\t\ttotalRewardTimes: '0',\r\n\t\t\t\tagentShare: '0'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.total = 0\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tdeviceTypeFilter(value) {\r\n\t\t\tconsole.log(value)\r\n\t\t\tlet label = ''\r\n\t\t\tthis.deviceTypeList.forEach((item) => {\r\n\t\t\t\tif (Number(item.value) === Number(value)) {\r\n\t\t\t\t\tlabel = item.label\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn label\r\n\t\t},\r\n\t\ttypeFilter(value) {\r\n\t\t\tlet name = '-'\r\n\t\t\tthis.typeList.forEach((item) => {\r\n\t\t\t\tif (Number(item.value) === Number(value)) {\r\n\t\t\t\t\tname = item.name\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn name\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.prevIndex = this.pageIndex\r\n\t\t\tthis.pageIndex = val\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\tresetCommon() {\r\n\t\t\tthis.form = {\r\n\t\t\t\ttime: '',\r\n\t\t\t\tagentId: '',\r\n\t\t\t\tcreatedAtEnd: '',\r\n\t\t\t\tcreatedAtStart: '',\r\n\t\t\t\tdealerName: '',\r\n\t\t\t\tgameTypeId: -1,\r\n\t\t\t\tid: '',\r\n\t\t\t\tplayerName: '',\r\n\t\t\t\trewardAmountMax: '',\r\n\t\t\t\trewardAmountMin: '',\r\n\t\t\t\trewardType: '',\r\n\t\t\t\troundNo: '',\r\n\t\t\t\trewardName: -1,\r\n\t\t\t\ttableName: -1\r\n\t\t\t}\r\n\t\t\tthis.tableKey = +new Date()\r\n\t\t\tthis.initList()\r\n\t\t},\r\n\t\tfilterGametype(c) {\r\n\t\t\tconst arr = this.gametype || []\r\n\t\t\tconst find = arr.find((item) => item.label === c)\r\n\t\t\tif (Cookies.get('language') === 'zh') {\r\n\t\t\t\treturn (find && find.zh) || '-'\r\n\t\t\t}\r\n\t\t\tif (Cookies.get('language') === 'en') {\r\n\t\t\t\treturn (find && find.en) || '-'\r\n\t\t\t}\r\n\t\t\treturn '-'\r\n\t\t},\r\n\t\tgo() {\r\n\t\t\tthis.$router.push('/operationManage/memberReward')\r\n\t\t},\r\n\t\tshowDailyDetail(row) {\r\n\t\t\tthis.$store.dispatch('tagsView/delView', {\r\n\t\t\t\tname: routerNames.betrecord\r\n\t\t\t})\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tconst targetUrl = '/members/betrecord'\r\n\t\t\t\tthis.$router.push(`${targetUrl}`)\r\n\t\t\t\tlocalStorage.setItem('playerId', row.playerId)\r\n\t\t\t\tlocalStorage.setItem('roundNo2', row.roundNo)\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleSearch() {\r\n\t\t\tthis.pageIndex = 1\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\t// getSummaries(param) {\r\n\t\t// \tconst { columns } = param\r\n\t\t// \tconst sums = []\r\n\t\t// \tcolumns.forEach((column, index) => {\r\n\t\t// \t\tif (!column.property && index === 0) {\r\n\t\t// \t\t\tsums[index] = this.$t('members_betrecord_index_580')\r\n\t\t// \t\t\treturn\r\n\t\t// \t\t}\r\n\t\t// \t\tif (column.property === 'roundNo') {\r\n\t\t// \t\t\tsums[index] =\r\n\t\t// \t\t\t\tthis.$t('members_betrecord_index_554') +\r\n\t\t// \t\t\t\tthis.formatCurrency(this.amountData[`betAmountSum`])\r\n\t\t// \t\t}\r\n\t\t// \t\tif (column.property === 'agentName') {\r\n\t\t// \t\t\tsums[index] =\r\n\t\t// \t\t\t\tthis.$t('members_betrecord_index_555') +\r\n\t\t// \t\t\t\tthis.formatCurrency(this.amountData[`validBetAmountSum`])\r\n\t\t// \t\t}\r\n\r\n\t\t// \t\tif (column.property === 'playerLoginName') {\r\n\t\t// \t\t\tsums[index] =\r\n\t\t// \t\t\t\tthis.$t('members_betrecord_index_556') +\r\n\t\t// \t\t\t\tthis.formatCurrency(this.amountData[`payAmountSum`])\r\n\t\t// \t\t}\r\n\t\t// \t\tif (column.property === 'betAt') {\r\n\t\t// \t\t\tsums[index] =\r\n\t\t// \t\t\t\tthis.$t('members_betrecord_index_557') +\r\n\t\t// \t\t\t\tthis.formatCurrency(this.amountData[`netAmountSum`])\r\n\t\t// \t\t}\r\n\t\t// \t\tif (column.property === 'betPoint') {\r\n\t\t// \t\t\tsums[index] =\r\n\t\t// \t\t\t\tthis.$t('members_betrecord_index_558') + this.amountData[`apiRate`]\r\n\t\t// \t\t}\r\n\t\t// \t\tif (column.property === 'betAmount') {\r\n\t\t// \t\t\tsums[index] =\r\n\t\t// \t\t\t\tthis.$t('members_betrecord_index_559') +\r\n\t\t// \t\t\t\tthis.amountData[`paymentAmountSum`]\r\n\t\t// \t\t}\r\n\t\t// \t\tif (column.property === 'validBetAmount') {\r\n\t\t// \t\t\tsums[index] =\r\n\t\t// \t\t\t\tthis.$t('members_betrecord_index_560') + this.amountData[`netRate`]\r\n\t\t// \t\t}\r\n\t\t// \t})\r\n\r\n\t\t// \treturn sums\r\n\t\t// },\r\n\t\tcheckDetail(row) {}\r\n\t}\r\n}\r\n",null]}