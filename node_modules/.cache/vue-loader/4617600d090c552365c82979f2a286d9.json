{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\gamemanagement\\gameresult\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\gamemanagement\\gameresult\\index.vue","mtime":1617695097412},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport list from '@/mixins/list'\r\nimport dayjs from 'dayjs'\r\nimport { mapGetters } from 'vuex'\r\nimport Video from '@/components/Video'\r\nimport { routerNames } from '@/utils/consts'\r\nimport ResultShow from '@/components/ResultShow'\r\nimport Cookies from 'js-cookie'\r\nimport QklModal from '@/components/QklModal'\r\n\r\nexport default {\r\n\tname: routerNames.reportGameResult,\r\n\tcomponents: { Video, ResultShow, QklModal },\r\n\tmixins: [list],\r\n\tdata() {\r\n\t\tconst start = dayjs()\r\n\t\t\t.startOf('day')\r\n\t\t\t.valueOf()\r\n\t\tconst end = dayjs()\r\n\t\t\t.endOf('day')\r\n\t\t\t.valueOf()\r\n\t\treturn {\r\n\t\t\thadSearch: false, // 判断是否点击，解决分页不点搜索带上搜索条件的问题\r\n\t\t\tloading: false,\r\n\t\t\tdrawer: false,\r\n\t\t\tdialogShow: false,\r\n\t\t\tdialogShow2: false,\r\n\t\t\tform: {\r\n\t\t\t\ttime: [start, end],\r\n\t\t\t\toperateStatus: -1,\r\n\t\t\t\tphysicsTableNo: '',\r\n\t\t\t\troundNo: '',\r\n\t\t\t\troundStatus: -1,\r\n\t\t\t\tgameTypeId: -1,\r\n\t\t\t\tplatformId: -1\r\n\t\t\t},\r\n\t\t\tlist: [],\r\n\t\t\tvideoSrc: '',\r\n\t\t\tshowVideo: false,\r\n\t\t\tcurrentData: {},\r\n\t\t\tcurrentData2: {},\r\n\t\t\troundNo: '',\r\n\t\t\tplatforms: []\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['globalDics']),\r\n\t\tgametype() {\r\n\t\t\tconst types = this.globalDics.gametype || []\r\n\t\t\treturn types.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\tlabel: item.text,\r\n\t\t\t\t\tzh: item.text,\r\n\t\t\t\t\ten: item.englishText\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgamemode() {\r\n\t\t\treturn this.globalDics.gamemode\r\n\t\t},\r\n\t\tgameresultstatus() {\r\n\t\t\tconst types = this.globalDics.gameresultstatus || []\r\n\t\t\treturn types.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\tlabel: item.text,\r\n\t\t\t\t\tzh: item.text,\r\n\t\t\t\t\ten: item.englishText\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tbetstatus() {\r\n\t\t\treturn this.globalDics.betstatus\r\n\t\t},\r\n\t\tbetflag() {\r\n\t\t\tconst types = this.globalDics.betflag || []\r\n\t\t\treturn types.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\tlabel: item.text,\r\n\t\t\t\t\tzh: item.text,\r\n\t\t\t\t\ten: item.englishText\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tpickerOptions() {\r\n\t\t\tconst _this = this\r\n\t\t\treturn {\r\n\t\t\t\tdisabledDate(time) {\r\n\t\t\t\t\tconst now = dayjs()\r\n\t\t\t\t\t\t.endOf('day')\r\n\t\t\t\t\t\t.valueOf()\r\n\r\n\t\t\t\t\tif (_this.minDate) {\r\n\t\t\t\t\t\tconst before = dayjs(_this.minDate)\r\n\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t.subtract(6, 'd')\r\n\t\t\t\t\t\t\t.valueOf()\r\n\t\t\t\t\t\tconst after = dayjs(_this.minDate)\r\n\t\t\t\t\t\t\t.endOf('day')\r\n\t\t\t\t\t\t\t.add(6, 'd')\r\n\t\t\t\t\t\t\t.valueOf()\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\ttime.getTime() > now || time.getTime() < before || time.getTime() > after\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn time.getTime() > now\r\n\t\t\t\t},\r\n\t\t\t\tonPick({ maxDate, minDate }) {\r\n\t\t\t\t\tif (!maxDate) {\r\n\t\t\t\t\t\t_this.minDate = minDate\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tshortcuts: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t('members_accounttransaction_index_508'),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst start = dayjs().subtract(15, 'minute')\r\n\t\t\t\t\t\t\tconst end = dayjs()\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t('members_accounttransaction_index_509'),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst start = dayjs().subtract(1, 'hour')\r\n\t\t\t\t\t\t\tconst end = dayjs()\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t('gamemanagement_gameresult_index_372'),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = dayjs().endOf('day')\r\n\t\t\t\t\t\t\tconst start = dayjs().startOf('day')\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t('gamemanagement_gameresult_index_373'),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tconst end = dayjs()\r\n\t\t\t\t\t\t\t\t.endOf('day')\r\n\t\t\t\t\t\t\t\t.subtract(1, 'd')\r\n\t\t\t\t\t\t\tconst start = dayjs()\r\n\t\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t\t.subtract(1, 'd')\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: this.$t('gamemanagement_gameresult_index_374'),\r\n\t\t\t\t\t\tonClick(picker) {\r\n\t\t\t\t\t\t\tlet start, end\r\n\t\t\t\t\t\t\tconst weekNum = dayjs().day()\r\n\t\t\t\t\t\t\tif (weekNum === 0) {\r\n\t\t\t\t\t\t\t\tend = new Date()\r\n\t\t\t\t\t\t\t\tstart = dayjs()\r\n\t\t\t\t\t\t\t\t\t.subtract(1, 'd')\r\n\t\t\t\t\t\t\t\t\t.startOf('week')\r\n\t\t\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t\t\t.add(1, 'd')\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tend = new Date()\r\n\t\t\t\t\t\t\t\tstart = dayjs()\r\n\t\t\t\t\t\t\t\t\t.startOf('day')\r\n\t\t\t\t\t\t\t\t\t.startOf('week')\r\n\t\t\t\t\t\t\t\t\t.add(1, 'd')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tpicker.$emit('pick', [+start, +end])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 失去焦点的时候重置\r\n\t\tonTimeBlur() {\r\n\t\t\tthis.minDate = null\r\n\t\t},\r\n\t\tclassFilter2(item) {\r\n\t\t\tconsole.log(item)\r\n\t\t\tswitch (item) {\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\treturn 'infoState'\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\treturn 'infoState'\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\treturn 'infoState'\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\treturn 'successState'\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\treturn 'disableState'\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\treturn 'dangerState'\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\treturn 'warningState'\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t},\r\n\t\tclassFilter(item) {\r\n\t\t\tswitch (item) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\treturn 'successState'\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\treturn 'disableState'\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\treturn 'dangerState'\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\treturn 'warningState'\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\treturn 'infoState'\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t},\r\n\t\tloadData() {\r\n\t\t\tthis.loading = true\r\n\t\t\tconst pageData = {\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tpageIndex: this.pageIndex,\r\n\t\t\t\tstartTime: this.form.time ? this.form.time[0] : '',\r\n\t\t\t\tendTime: this.form.time ? this.form.time[1] : '',\r\n\t\t\t\tplatformId: this.form.platformId\r\n\t\t\t}\r\n\t\t\tconst requestData = this.hadSearch\r\n\t\t\t\t? {\r\n\t\t\t\t\t\troundStatus: this.form.roundStatus,\r\n\t\t\t\t\t\toperateStatus: this.form.operateStatus,\r\n\t\t\t\t\t\tbootNo: this.form.bootNo,\r\n\t\t\t\t\t\tphysicsTableNo: this.form.physicsTableNo,\r\n\t\t\t\t\t\troundNo: this.form.roundNo,\r\n\t\t\t\t\t\tgameTypeId: this.form.gameTypeId\r\n\t\t\t\t  }\r\n\t\t\t\t: {}\r\n\t\t\tconst form = {\r\n\t\t\t\t...pageData,\r\n\t\t\t\t...requestData\r\n\t\t\t}\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.gameResultSearch(form)\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tconst data = _.data\r\n\t\t\t\t\tthis.list = data.record\r\n\t\t\t\t\tthis.total = data.totalRecord\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\r\n\t\t\tthis.$api.queryGamingRoom().then((res) => {\r\n\t\t\t\tconsole.log('res :>> ', res)\r\n\t\t\t\tthis.platforms = res.data\r\n\t\t\t})\r\n\t\t},\r\n\t\tfilterList(list) {\r\n\t\t\treturn list.map((_) => {\r\n\t\t\t\tif (_.status === 1) {\r\n\t\t\t\t\t_.switchStatus = true\r\n\t\t\t\t} else if (_.status === 0) {\r\n\t\t\t\t\t_.switchStatus = false\r\n\t\t\t\t}\r\n\t\t\t\treturn _\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tconsole.log(this.$t('detailrecord.detailrecord_32', [val]))\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\thandleReset() {\r\n\t\t\tconst start = dayjs()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.valueOf()\r\n\t\t\tconst end = dayjs()\r\n\t\t\t\t.endOf('day')\r\n\t\t\t\t.valueOf()\r\n\t\t\tthis.form = {\r\n\t\t\t\ttime: [start, end],\r\n\t\t\t\tphysicsTableNo: '',\r\n\t\t\t\troundId: '',\r\n\t\t\t\troundStatus: -1,\r\n\t\t\t\tgameTypeId: -1,\r\n\t\t\t\toperateStatus: -1\r\n\t\t\t}\r\n\t\t\tthis.hadSearch = false\r\n\t\t\tthis.initList()\r\n\t\t},\r\n\t\thandleSearch() {\r\n\t\t\tthis.hadSearch = true\r\n\t\t\tthis.pageIndex = 1\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\thandleShowVideo(path, row) {\r\n\t\t\tthis.showVideo = true\r\n\t\t\tthis.videoSrc = path\r\n\t\t\tthis.currentData = { ...row }\r\n\t\t},\r\n\r\n\t\tshowResult(row) {\r\n\t\t\tthis.dialogShow = true\r\n\t\t\tthis.currentData = { ...row }\r\n\t\t},\r\n\t\tshowResult2(row) {\r\n\t\t\tthis.dialogShow = true\r\n\t\t\tthis.$api\r\n\t\t\t\t.recalculateBureau({\r\n\t\t\t\t\tgameTypeId: row.gameTypeId,\r\n\t\t\t\t\toperateStatus: 4,\r\n\t\t\t\t\troundNo: row.roundNo\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.currentData = res.data\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tshowCardDetail(row) {\r\n\t\t\tthis.dialogShow2 = true\r\n\t\t\tthis.roundNo = row.roundNo\r\n\t\t},\r\n\t\tclearSrc() {\r\n\t\t\tthis.videoSrc = ''\r\n\t\t},\r\n\t\tfilterGametype(c) {\r\n\t\t\tconst arr = this.gametype || []\r\n\t\t\tconst find = arr.find((item) => item.label === c)\r\n\t\t\tif (Cookies.get('language') === 'zh') {\r\n\t\t\t\treturn (find && find.zh) || '-'\r\n\t\t\t}\r\n\t\t\tif (Cookies.get('language') === 'en') {\r\n\t\t\t\treturn (find && find.en) || '-'\r\n\t\t\t}\r\n\t\t\treturn '-'\r\n\t\t},\r\n\t\tfilterGameresultstatus(c) {\r\n\t\t\tconst arr = this.gameresultstatus || []\r\n\t\t\tconst find = arr.find((item) => Number(item.value) === Number(c))\r\n\t\t\tif (Cookies.get('language') === 'zh') {\r\n\t\t\t\treturn (find && find.zh) || '-'\r\n\t\t\t}\r\n\t\t\tif (Cookies.get('language') === 'en') {\r\n\t\t\t\treturn (find && find.en) || '-'\r\n\t\t\t}\r\n\t\t\treturn '-'\r\n\t\t},\r\n\t\tfilterBetflag(c) {\r\n\t\t\tconst arr = this.betflag || []\r\n\t\t\tconst find = arr.find((item) => Number(item.value) === Number(c))\r\n\t\t\tif (Cookies.get('language') === 'zh') {\r\n\t\t\t\treturn (find && find.zh) || '-'\r\n\t\t\t}\r\n\t\t\tif (Cookies.get('language') === 'en') {\r\n\t\t\t\treturn (find && find.en) || '-'\r\n\t\t\t}\r\n\t\t\treturn '-'\r\n\t\t}\r\n\t}\r\n}\r\n",null]}