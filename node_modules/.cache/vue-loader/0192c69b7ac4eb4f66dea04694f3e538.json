{"remainingRequest":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\envelopeRecord\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\src\\views\\operationManage\\envelopeRecord\\index.vue","mtime":1617695097434},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\merchant-manager-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from 'vuex'\r\nimport list from '@/mixins/list'\r\nimport SelectAgentTree from '@/components/SelectAgentTree'\r\nimport dayjs from 'dayjs'\r\nimport { routerNames } from '@/utils/consts'\r\nimport router from '@/router'\r\nimport Cookies from 'js-cookie'\r\n\r\nexport default {\r\n\tname: routerNames.envelopeRecord,\r\n\tcomponents: { SelectAgentTree },\r\n\tmixins: [list],\r\n\tdata() {\r\n\t\tconst start = dayjs()\r\n\t\t\t.startOf('day')\r\n\t\t\t.valueOf()\r\n\t\tconst end = dayjs()\r\n\t\t\t.endOf('day')\r\n\t\t\t.valueOf()\r\n\r\n\t\treturn {\r\n\t\t\tdrawer: false,\r\n\t\t\tipData: null,\r\n\t\t\thadSearch: false,\r\n\t\t\tloading: false,\r\n\t\t\treleaseTime: '',\r\n\t\t\tbetDialogVisible: false,\r\n\t\t\tdialogShow: false,\r\n\t\t\tbetStatusList: [\r\n\t\t\t\tthis.$t('members.members_16'),\r\n\t\t\t\tthis.$t('members.members_17'),\r\n\t\t\t\tthis.$t('members.members_18'),\r\n\t\t\t\tthis.$t('members.members_19'),\r\n\t\t\t\tthis.$t('members.members_20'),\r\n\t\t\t\tthis.$t('members.members_21')\r\n\t\t\t],\r\n\t\t\tform: {\r\n\t\t\t\ttime: [start, end],\r\n\t\t\t\tloginName: '',\r\n\t\t\t\tbizId: '',\r\n\t\t\t\trewardStatus: -1,\r\n\t\t\t\tactivityId: -1,\r\n\t\t\t\tsearchAgentId: '',\r\n\t\t\t\tupperLimitAmount: '',\r\n\t\t\t\tlowerLimitAmount: ''\r\n\t\t\t},\r\n\t\t\tamountData: {\r\n\t\t\t\tpayOutCount: '0',\r\n\t\t\t\tpayOutPlayerCount: '0',\r\n\t\t\t\tsumPayOutAmount: '0',\r\n\t\t\t\tsumSuccessPayOutAmount: '0'\r\n\t\t\t},\r\n\t\t\tvideoSrc: '',\r\n\t\t\tshowVideo: false,\r\n\t\t\tcurrentData: {},\r\n\t\t\tuserAgentType: '',\r\n\t\t\tdetailVisible: false,\r\n\t\t\t// 是否展示列表选择\r\n\t\t\tisShowChoiceColumn: false,\r\n\t\t\tprevIndex: 1,\r\n\t\t\tactivityTypeList: []\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t...mapGetters(['userInfo']),\r\n\t\t...mapGetters(['globalDics']),\r\n\t\tbetstatus() {\r\n\t\t\treturn this.globalDics.betstatus\r\n\t\t},\r\n\t\tred() {\r\n\t\t\tconst types = this.globalDics.redpackage || []\r\n\t\t\treturn types.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\tlabel: item.text,\r\n\t\t\t\t\tzh: item.text,\r\n\t\t\t\t\ten: item.englishText\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tallTypesArr() {\r\n\t\t\treturn [\r\n\t\t\t\tthis.$t('operationmanage_enveloperecord_index_65'),\r\n\t\t\t\tthis.$t('operationmanage_enveloperecord_index_66'),\r\n\t\t\t\tthis.$t('operationmanage_enveloperecord_index_67'),\r\n\t\t\t\tthis.$t('operationmanage_enveloperecord_index_68'),\r\n\t\t\t\tthis.$t('operationmanage_enveloperecord_index_69'),\r\n\t\t\t\tthis.$t('operationmanage_enveloperecord_index_70')\r\n\t\t\t]\r\n\t\t},\r\n\t\tallTypes() {\r\n\t\t\treturn {\r\n\t\t\t\t1: this.$t('operationmanage_enveloperecord_index_65'),\r\n\t\t\t\t2: this.$t('operationmanage_enveloperecord_index_66'),\r\n\t\t\t\t3: this.$t('operationmanage_enveloperecord_index_67'),\r\n\t\t\t\t4: this.$t('operationmanage_enveloperecord_index_68'),\r\n\t\t\t\t5: this.$t('operationmanage_enveloperecord_index_69'),\r\n\t\t\t\t6: this.$t('operationmanage_enveloperecord_index_70')\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\t// this.getActivityTypeList()\r\n\r\n\t\tdocument.addEventListener('click', this.showColumn)\r\n\t\tconst w = this.$refs.content.getBoundingClientRect().width\r\n\t\tthis.$refs.footerCon.style.width = w - 25 + 'px'\r\n\t\twindow.onresize = () => {\r\n\t\t\tconst w = this.$refs.content.getBoundingClientRect().width\r\n\t\t\tthis.$refs.footerCon.style.width = w - 25 + 'px'\r\n\t\t}\r\n\t},\r\n\tdestroyed() {\r\n\t\tdocument.removeEventListener('click', this.showColumn)\r\n\t},\r\n\tmethods: {\r\n\t\tclassFilter(item) {\r\n\t\t\tswitch (item) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\treturn 'successState'\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\treturn 'infoState'\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\treturn 'warningState'\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\treturn 'successState'\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\treturn 'dangerState'\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\treturn 'disableState'\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilterTypes(type) {\r\n\t\t\treturn this.allTypes[Number(type)]\r\n\t\t},\r\n\t\tfilterRed(c) {\r\n\t\t\tconst arr = this.red || []\r\n\t\t\tconst find = arr.find((item) => Number(item.value) === Number(c))\r\n\t\t\tif (Cookies.get('language') === 'zh') {\r\n\t\t\t\treturn (find && find.zh) || '-'\r\n\t\t\t}\r\n\t\t\tif (Cookies.get('language') === 'en') {\r\n\t\t\t\treturn (find && find.en) || '-'\r\n\t\t\t}\r\n\t\t\treturn '-'\r\n\t\t},\r\n\t\t// 失去焦点的时候重置\r\n\t\tonTimeBlur() {\r\n\t\t\tthis.minDate = null\r\n\t\t},\r\n\t\tgetAmoutColor(value) {\r\n\t\t\tif (value > 0) {\r\n\t\t\t\treturn 'green'\r\n\t\t\t} else if (value < 0) {\r\n\t\t\t\treturn 'red'\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t},\r\n\t\tshowColumn(e) {\r\n\t\t\tconst icon = document.getElementById('icon')\r\n\t\t\tconst list = document.getElementById('list')\r\n\t\t\tif (icon && !icon.contains(e.target) && list && !list.contains(e.target)) {\r\n\t\t\t\tthis.isShowChoiceColumn = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tloadData() {\r\n\t\t\tthis.loading = true\r\n\r\n\t\t\tconst initData = {\r\n\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\tpageIndex: this.pageIndex,\r\n\t\t\t\tstartTime: this.form.time[0],\r\n\t\t\t\tendTime: this.form.time[1],\r\n\t\t\t\tloginName: this.form.loginName,\r\n\t\t\t\tsearchAgentId: this.form.searchAgentId,\r\n\t\t\t\tlowerLimitAmount: this.form.upperLimitAmount,\r\n\t\t\t\tupperLimitAmount: this.form.lowerLimitAmount,\r\n\t\t\t\tactivityId: this.form.activityId,\r\n\t\t\t\tbizId: this.form.bizId,\r\n\t\t\t\trewardStatus: this.form.rewardStatus\r\n\t\t\t}\r\n\r\n\t\t\tthis.$api\r\n\t\t\t\t.getEnvelopeRecord(initData)\r\n\t\t\t\t.then((_) => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tif (_.code === 200) {\r\n\t\t\t\t\t\tconst data = _.data\r\n\t\t\t\t\t\tthis.list = data.record\r\n\t\t\t\t\t\tthis.amountData = data.summary || {\r\n\t\t\t\t\t\t\tpayOutCount: '0',\r\n\t\t\t\t\t\t\tpayOutPlayerCount: '0',\r\n\t\t\t\t\t\t\tsumPayOutAmount: '0',\r\n\t\t\t\t\t\t\tsumSuccessPayOutAmount: '0'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.total = data.totalRecord\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.pageIndex = this.prevIndex\r\n\t\t\t\t\tthis.list = []\r\n\t\t\t\t\tthis.amountData = {\r\n\t\t\t\t\t\tpayOutCount: '0',\r\n\t\t\t\t\t\tpayOutPlayerCount: '0',\r\n\t\t\t\t\t\tsumPayOutAmount: '0',\r\n\t\t\t\t\t\tsumSuccessPayOutAmount: '0'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.total = 0\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\thandleCurrentChange(val) {\r\n\t\t\tthis.prevIndex = this.pageIndex\r\n\t\t\tthis.pageIndex = val\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\tgetActivityTypeList() {\r\n\t\t\tthis.$api.getActivityTypeList().then((res) => {\r\n\t\t\t\tthis.activityTypeList = res.data || []\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleReset() {\r\n\t\t\tif (this.$route.query && JSON.stringify(this.$route.query) !== '{}') {\r\n\t\t\t\trouter.push(this.$route.path, () => {\r\n\t\t\t\t\tthis.resetCommon()\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.resetCommon()\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetCommon() {\r\n\t\t\tconst start = dayjs()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.valueOf()\r\n\t\t\tconst end = dayjs()\r\n\t\t\t\t.endOf('day')\r\n\t\t\t\t.valueOf()\r\n\r\n\t\t\tthis.hadSearch = false\r\n\t\t\tthis.form = {\r\n\t\t\t\ttime: [start, end],\r\n\t\t\t\tloginName: '',\r\n\t\t\t\tbizId: '',\r\n\t\t\t\trewardStatus: -1,\r\n\t\t\t\tbetStatus: -1,\r\n\t\t\t\tactivityId: -1,\r\n\t\t\t\tsearchAgentId: '',\r\n\t\t\t\tupperLimitAmount: '',\r\n\t\t\t\tlowerLimitAmount: ''\r\n\t\t\t}\r\n\t\t\tthis.initList()\r\n\t\t},\r\n\t\thandleSearch() {\r\n\t\t\tthis.pageIndex = 1\r\n\t\t\tthis.hadSearch = true\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\tgetEnName(name) {\r\n\t\t\tif (name.includes('百万红包雨')) {\r\n\t\t\t\treturn this.$t('operationmanage_enveloperecord_index_75')\r\n\t\t\t}\r\n\t\t\treturn name\r\n\t\t}\r\n\t}\r\n}\r\n",null]}